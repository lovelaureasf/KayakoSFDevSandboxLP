{"version":3,"sources":["webpack:///js/262.51377aee.chunk.js","webpack:///./src/main/js/apps/projectQualityProfiles/App.tsx","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts","webpack:///./src/main/js/apps/projectQualityProfiles/Header.tsx","webpack:///./src/main/js/apps/projectQualityProfiles/ProfileRow.tsx","webpack:///./src/main/js/apps/projectQualityProfiles/Table.tsx"],"names":["webpackJsonp","2120","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_react_helmet__","n","__WEBPACK_IMPORTED_MODULE_1_react_helmet___default","__WEBPACK_IMPORTED_MODULE_2__Header__","__WEBPACK_IMPORTED_MODULE_3__Table__","__WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__","__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__","__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__","__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","QualityProfiles","_super","_this","apply","arguments","state","loading","handleChangeProfile","oldKey","newKey","component","props","_a","allProfiles","profiles","newProfile","find","profile","key","isDefault","i","then","mounted","nextProfiles","filter","concat","setState","languageName","componentDidMount","checkPermissions","fetchProfiles","componentWillUnmount","configuration","showQualityProfiles","organization","customOrganizations","undefined","Promise","all","r","project","render","className","a","title","onChangeProfile","2207","addGlobalSuccessMessage","message","__WEBPACK_IMPORTED_MODULE_0__getStore__","dispatch","__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__","2344","Header","__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__","2345","__WEBPACK_IMPORTED_MODULE_1_react_select__","__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__","ProfileRow","stopLoading","handleChange","option","renderProfileName","profileOption","label","renderProfileSelect","possibleProfiles","options","map","name","clearable","disabled","onChange","optionRenderer","style","width","valueRenderer","data-key","language","2346","Table","profilesByLanguage","__WEBPACK_IMPORTED_MODULE_1_lodash__","orderedProfiles","profileRows","__WEBPACK_IMPORTED_MODULE_2__ProfileRow__","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__"],"mappings":"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","file":"js/262.51377aee.chunk.js","sourcesContent":["webpackJsonp([262],{\n\n/***/ 2120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_helmet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Header__ = __webpack_require__(2344);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Table__ = __webpack_require__(2346);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__ = __webpack_require__(699);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__ = __webpack_require__(2207);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__ = __webpack_require__(259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nvar QualityProfiles = function (_super) {\n    __extends(QualityProfiles, _super);\n    function QualityProfiles() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.handleChangeProfile = function (oldKey, newKey) {\n            var component = _this.props.component;\n            var _a = _this.state,\n                allProfiles = _a.allProfiles,\n                profiles = _a.profiles;\n            var newProfile = allProfiles && allProfiles.find(function (profile) {\n                return profile.key === newKey;\n            });\n            var request = newProfile && newProfile.isDefault ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__[\"a\" /* dissociateProject */])(oldKey, component.key) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__[\"b\" /* associateProject */])(newKey, component.key);\n            return request.then(function () {\n                if (_this.mounted && profiles && newProfile) {\n                    // remove old profile, add new one\n                    var nextProfiles = profiles.filter(function (profile) {\n                        return profile.key !== oldKey;\n                    }).concat([newProfile]);\n                    _this.setState({ profiles: nextProfiles });\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__[\"a\" /* default */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translateWithParameters\"])('project_quality_profile.successfully_updated', newProfile.languageName));\n                }\n            });\n        };\n        return _this;\n    }\n    QualityProfiles.prototype.componentDidMount = function () {\n        this.mounted = true;\n        if (this.checkPermissions()) {\n            this.fetchProfiles();\n        } else {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__[\"default\"])();\n        }\n    };\n    QualityProfiles.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    QualityProfiles.prototype.checkPermissions = function () {\n        var configuration = this.props.component.configuration;\n        var hasPermission = configuration && configuration.showQualityProfiles;\n        return !!hasPermission;\n    };\n    QualityProfiles.prototype.fetchProfiles = function () {\n        var _this = this;\n        var component = this.props.component;\n        var organization = this.props.customOrganizations ? component.organization : undefined;\n        Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__[\"c\" /* searchQualityProfiles */])({ organization: organization }).then(function (r) {\n            return r.profiles;\n        }), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_profiles__[\"c\" /* searchQualityProfiles */])({ organization: organization, project: component.key }).then(function (r) {\n            return r.profiles;\n        })]).then(function (_a) {\n            var allProfiles = _a[0],\n                profiles = _a[1];\n            if (_this.mounted) {\n                _this.setState({ loading: false, allProfiles: allProfiles, profiles: profiles });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    QualityProfiles.prototype.render = function () {\n        if (!this.checkPermissions()) {\n            return null;\n        }\n        var _a = this.state,\n            allProfiles = _a.allProfiles,\n            loading = _a.loading,\n            profiles = _a.profiles;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_helmet___default.a, { title: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translate\"])('project_quality_profiles.page') }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Header__[\"a\" /* default */], null), loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : allProfiles && profiles && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__Table__[\"a\" /* default */], { allProfiles: allProfiles, profiles: profiles, onChangeProfile: this.handleChangeProfile }));\n    };\n    return QualityProfiles;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (QualityProfiles);\n\n/***/ }),\n\n/***/ 2207:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addGlobalSuccessMessage;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getStore__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__ = __webpack_require__(45);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction addGlobalSuccessMessage(message) {\n  var store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__getStore__[\"default\"])();\n  store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__[\"e\" /* addGlobalSuccessMessage */](message));\n}\n\n/***/ }),\n\n/***/ 2344:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Header;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction Header() {\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"header\", { className: \"page-header\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h1\", { className: \"page-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_profiles.page')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-description\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_profiles.page.description')));\n}\n\n/***/ }),\n\n/***/ 2345:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_select__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_select__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nvar ProfileRow = function (_super) {\n    __extends(ProfileRow, _super);\n    function ProfileRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: false };\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleChange = function (option) {\n            if (_this.props.profile.key !== option.value) {\n                _this.setState({ loading: true });\n                _this.props.onChangeProfile(_this.props.profile.key, option.value).then(_this.stopLoading, _this.stopLoading);\n            }\n        };\n        _this.renderProfileName = function (profileOption) {\n            if (profileOption.isDefault) {\n                return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"strong\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('default')), ': ', profileOption.label);\n            }\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, profileOption.label);\n        };\n        return _this;\n    }\n    ProfileRow.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    ProfileRow.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    ProfileRow.prototype.renderProfileSelect = function () {\n        var _a = this.props,\n            profile = _a.profile,\n            possibleProfiles = _a.possibleProfiles;\n        var options = possibleProfiles.map(function (profile) {\n            return {\n                value: profile.key,\n                label: profile.name,\n                isDefault: profile.isDefault\n            };\n        });\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_select__, { clearable: false, disabled: this.state.loading, onChange: this.handleChange, optionRenderer: this.renderProfileName, options: options, style: { width: 300 }, valueRenderer: this.renderProfileName, value: profile.key });\n    };\n    ProfileRow.prototype.render = function () {\n        var profile = this.props.profile;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", { \"data-key\": profile.language }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"thin nowrap\" }, profile.languageName), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"thin nowrap\" }, this.renderProfileSelect()), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", null, this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" })));\n    };\n    return ProfileRow;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (ProfileRow);\n\n/***/ }),\n\n/***/ 2346:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Table;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ProfileRow__ = __webpack_require__(2345);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction Table(props) {\n    var profilesByLanguage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"groupBy\"])(props.allProfiles, 'language');\n    var orderedProfiles = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"orderBy\"])(props.profiles, 'languageName');\n    // set key to language to avoid destroying of component\n    var profileRows = orderedProfiles.map(function (profile) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__ProfileRow__[\"a\" /* default */], { key: profile.language, profile: profile, possibleProfiles: profilesByLanguage[profile.language], onChangeProfile: props.onChangeProfile });\n    });\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"table\", { className: \"data zebra\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"thead\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"thin nowrap\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('language')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"thin nowrap\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('quality_profile')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", null, '\\xA0'))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tbody\", null, profileRows));\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/262.51377aee.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport Header from './Header';\nimport Table from './Table';\nimport {\n  associateProject,\n  dissociateProject,\n  searchQualityProfiles,\n  Profile\n} from '../../api/quality-profiles';\nimport { Component } from '../../app/types';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props {\n  component: Component;\n  customOrganizations: boolean;\n}\n\ninterface State {\n  allProfiles?: Profile[];\n  loading: boolean;\n  profiles?: Profile[];\n}\n\nexport default class QualityProfiles extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.checkPermissions()) {\n      this.fetchProfiles();\n    } else {\n      handleRequiredAuthorization();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkPermissions() {\n    const { configuration } = this.props.component;\n    const hasPermission = configuration && configuration.showQualityProfiles;\n    return !!hasPermission;\n  }\n\n  fetchProfiles() {\n    const { component } = this.props;\n    const organization = this.props.customOrganizations ? component.organization : undefined;\n    Promise.all([\n      searchQualityProfiles({ organization }).then(r => r.profiles),\n      searchQualityProfiles({ organization, project: component.key }).then(r => r.profiles)\n    ]).then(\n      ([allProfiles, profiles]) => {\n        if (this.mounted) {\n          this.setState({ loading: false, allProfiles, profiles });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleChangeProfile = (oldKey: string, newKey: string) => {\n    const { component } = this.props;\n    const { allProfiles, profiles } = this.state;\n    const newProfile = allProfiles && allProfiles.find(profile => profile.key === newKey);\n    const request =\n      newProfile && newProfile.isDefault\n        ? dissociateProject(oldKey, component.key)\n        : associateProject(newKey, component.key);\n\n    return request.then(() => {\n      if (this.mounted && profiles && newProfile) {\n        // remove old profile, add new one\n        const nextProfiles = [...profiles.filter(profile => profile.key !== oldKey), newProfile];\n        this.setState({ profiles: nextProfiles });\n\n        addGlobalSuccessMessage(\n          translateWithParameters(\n            'project_quality_profile.successfully_updated',\n            newProfile.languageName\n          )\n        );\n      }\n    });\n  };\n\n  render() {\n    if (!this.checkPermissions()) {\n      return null;\n    }\n\n    const { allProfiles, loading, profiles } = this.state;\n\n    return (\n      <div className=\"page page-limited\">\n        <Helmet title={translate('project_quality_profiles.page')} />\n\n        <Header />\n\n        {loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          allProfiles &&\n          profiles && (\n            <Table\n              allProfiles={allProfiles}\n              profiles={profiles}\n              onChangeProfile={this.handleChangeProfile}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityProfiles/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getStore from './getStore';\nimport * as globalMessages from '../../store/globalMessages/duck';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/app/utils/addGlobalSuccessMessage.ts","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\n\nexport default function Header() {\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('project_quality_profiles.page')}</h1>\n      <div className=\"page-description\">\n        {translate('project_quality_profiles.page.description')}\n      </div>\n    </header>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityProfiles/Header.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as Select from 'react-select';\nimport { Profile } from '../../api/quality-profiles';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  onChangeProfile: (oldProfile: string, newProfile: string) => Promise<void>;\n  possibleProfiles: Profile[];\n  profile: Profile;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class ProfileRow extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleChange = (option: { value: string }) => {\n    if (this.props.profile.key !== option.value) {\n      this.setState({ loading: true });\n      this.props\n        .onChangeProfile(this.props.profile.key, option.value)\n        .then(this.stopLoading, this.stopLoading);\n    }\n  };\n\n  renderProfileName = (profileOption: { isDefault: boolean; label: string }) => {\n    if (profileOption.isDefault) {\n      return (\n        <span>\n          <strong>{translate('default')}</strong>\n          {': '}\n          {profileOption.label}\n        </span>\n      );\n    }\n\n    return <span>{profileOption.label}</span>;\n  };\n\n  renderProfileSelect() {\n    const { profile, possibleProfiles } = this.props;\n\n    const options = possibleProfiles.map(profile => ({\n      value: profile.key,\n      label: profile.name,\n      isDefault: profile.isDefault\n    }));\n\n    return (\n      <Select\n        clearable={false}\n        disabled={this.state.loading}\n        onChange={this.handleChange}\n        optionRenderer={this.renderProfileName}\n        options={options}\n        style={{ width: 300 }}\n        valueRenderer={this.renderProfileName}\n        value={profile.key}\n      />\n    );\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <tr data-key={profile.language}>\n        <td className=\"thin nowrap\">{profile.languageName}</td>\n        <td className=\"thin nowrap\">{this.renderProfileSelect()}</td>\n        <td>{this.state.loading && <i className=\"spinner\" />}</td>\n      </tr>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityProfiles/ProfileRow.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { groupBy, orderBy } from 'lodash';\nimport ProfileRow from './ProfileRow';\nimport { Profile } from '../../api/quality-profiles';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  allProfiles: Profile[];\n  profiles: Profile[];\n  onChangeProfile: (oldProfile: string, newProfile: string) => Promise<void>;\n}\n\nexport default function Table(props: Props) {\n  const profilesByLanguage = groupBy(props.allProfiles, 'language');\n  const orderedProfiles = orderBy(props.profiles, 'languageName');\n\n  // set key to language to avoid destroying of component\n  const profileRows = orderedProfiles.map(profile => (\n    <ProfileRow\n      key={profile.language}\n      profile={profile}\n      possibleProfiles={profilesByLanguage[profile.language]}\n      onChangeProfile={props.onChangeProfile}\n    />\n  ));\n\n  return (\n    <table className=\"data zebra\">\n      <thead>\n        <tr>\n          <th className=\"thin nowrap\">{translate('language')}</th>\n          <th className=\"thin nowrap\">{translate('quality_profile')}</th>\n          {/* keep one empty cell for the spinner */}\n          <th>&nbsp;</th>\n        </tr>\n      </thead>\n      <tbody>{profileRows}</tbody>\n    </table>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityProfiles/Table.tsx"],"sourceRoot":""}