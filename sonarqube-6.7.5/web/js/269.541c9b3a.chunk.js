webpackJsonp([269],{2129:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=(n.n(o),n(10)),i=n(2385),a=n(153),l=n(260),s=n(205),c=n(34),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={onSonarCloud:!1},e.getReturnUrl=function(){var t=e.props.location,o=t.query.return_to;return o?""+o+t.hash:n.i(c.i)()+"/"},e.handleSuccessfulLogin=function(){window.location.href=e.getReturnUrl()},e.handleSubmit=function(t,n){e.props.doLogin(t,n).then(e.handleSuccessfulLogin,function(){})},e}return u(e,t),e.prototype.componentDidMount=function(){var t=this;this.mounted=!0,Promise.all([n.i(s.d)(),n.i(l.d)()]).then(function(e){var n=e[0],o=e[1];t.mounted&&t.setState({onSonarCloud:o.settings&&"true"===o.settings["sonar.sonarcloud.enabled"],identityProviders:n.identityProviders})})},e.prototype.componentWillUnmount=function(){this.mounted=!1},e.prototype.render=function(){var t=this.state,e=t.identityProviders,n=t.onSonarCloud;return e?o.createElement(i.a,{identityProviders:e,onSonarCloud:n,onSubmit:this.handleSubmit,returnTo:this.getReturnUrl()}):null},e}(o.PureComponent),p={doLogin:a.g};e.default=n.i(r.connect)(null,p)(d)},2385:function(t,e,n){"use strict";var o=n(0),r=(n.n(o),n(9)),i=n(2386),a=n(720),l=n(2),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),c=function(t){function e(e){var n=t.call(this,e)||this;return n.handleSubmit=function(t){t.preventDefault(),n.props.onSubmit(n.state.login,n.state.password)},n.handleMoreOptionsClick=function(t){t.preventDefault(),n.setState({collapsed:!1})},n.handleLoginChange=function(t){return n.setState({login:t.currentTarget.value})},n.handlePwdChange=function(t){return n.setState({password:t.currentTarget.value})},n.state={collapsed:e.identityProviders.length>0,login:"",password:""},n}return s(e,t),e.prototype.render=function(){var t=this.props.onSonarCloud?n.i(l.translate)("login.login_to_sonarcloud"):n.i(l.translate)("login.login_to_sonarqube");return o.createElement("div",{id:"login_form"},o.createElement("h1",{className:"login-title text-center"},t),this.props.identityProviders.length>0&&o.createElement(i.a,{identityProviders:this.props.identityProviders,returnTo:this.props.returnTo}),this.state.collapsed?o.createElement("div",{className:"text-center"},o.createElement("a",{className:"small text-muted js-more-options",href:"#",onClick:this.handleMoreOptionsClick},n.i(l.translate)("login.more_options"))):o.createElement("form",{onSubmit:this.handleSubmit},o.createElement(a.a,null),o.createElement("div",{className:"big-spacer-bottom"},o.createElement("label",{htmlFor:"login",className:"login-label"},n.i(l.translate)("login")),o.createElement("input",{type:"text",id:"login",name:"login",className:"login-input",maxLength:255,required:!0,autoFocus:!0,placeholder:n.i(l.translate)("login"),value:this.state.login,onChange:this.handleLoginChange})),o.createElement("div",{className:"big-spacer-bottom"},o.createElement("label",{htmlFor:"password",className:"login-label"},n.i(l.translate)("password")),o.createElement("input",{type:"password",id:"password",name:"password",className:"login-input",required:!0,placeholder:n.i(l.translate)("password"),value:this.state.password,onChange:this.handlePwdChange})),o.createElement("div",null,o.createElement("div",{className:"text-right overflow-hidden"},o.createElement("button",{name:"commit",type:"submit"},n.i(l.translate)("sessions.log_in")),o.createElement(r.Link,{className:"spacer-left",to:"/"},n.i(l.translate)("cancel"))))))},e}(o.PureComponent);e.a=c},2386:function(t,e,n){"use strict";function o(t){var e=t.formatLabel||r;return i.createElement("section",{className:"oauth-providers"},i.createElement("ul",null,t.identityProviders.map(function(o){return i.createElement("li",{key:o.key},i.createElement("a",{href:n.i(l.i)()+"/sessions/init/"+o.key+"?return_to="+encodeURIComponent(t.returnTo),style:{backgroundColor:o.backgroundColor},title:e(o.name)},i.createElement("img",{alt:o.name,width:"20",height:"20",src:n.i(l.i)()+o.iconPath}),i.createElement("span",null,e(o.name))))})))}function r(t){return n.i(a.translateWithParameters)("login.login_with_x",t)}e.a=o;var i=n(0),a=(n.n(i),n(2)),l=n(34)}});
//# sourceMappingURL=269.541c9b3a.chunk.js.map