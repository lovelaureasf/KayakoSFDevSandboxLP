{"version":3,"sources":["webpack:///js/244.e9afb1c5.chunk.js","webpack:///./src/main/js/apps/portfolio/components/App.tsx","webpack:///./src/main/js/apps/projectActivity/utils.js?1792*","webpack:///./src/main/js/api/time-machine.ts?a111*","webpack:///./src/main/js/components/charts/Histogram.tsx?d8fb*","webpack:///./src/main/js/components/charts/LanguageDistribution.tsx?f388*","webpack:///./src/main/js/components/charts/LanguageDistributionContainer.tsx?8a86*","webpack:///./src/main/js/components/charts/AdvancedTimeline.js?f469*","webpack:///./src/main/js/apps/portfolio/components/RatingFreshness.tsx","webpack:///./src/main/js/apps/portfolio/components/Effort.tsx","webpack:///./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","webpack:///./src/main/js/apps/portfolio/components/MainRating.tsx","webpack:///./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","webpack:///./src/main/js/components/preview-graph/PreviewGraph.js?dad5","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltips.js?3573","webpack:///./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js?4ac8","webpack:///./src/main/js/api/report.ts","webpack:///./src/main/js/apps/portfolio/components/Activity.tsx","webpack:///./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Report.tsx","webpack:///./src/main/js/apps/portfolio/components/SecurityBox.tsx","webpack:///./src/main/js/apps/portfolio/components/Subscription.tsx","webpack:///./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","webpack:///./src/main/js/apps/portfolio/components/Summary.tsx","webpack:///./src/main/js/apps/portfolio/components/WorstProjects.tsx","webpack:///./src/main/js/apps/portfolio/utils.ts","webpack:///./src/main/js/apps/portfolio/styles.css","webpack:///./src/main/js/apps/portfolio/styles.css?7d5b"],"names":["webpackJsonp","2117","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1__Summary__","n","__WEBPACK_IMPORTED_MODULE_2__Report__","__WEBPACK_IMPORTED_MODULE_3__WorstProjects__","__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__","__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__","__WEBPACK_IMPORTED_MODULE_6__SecurityBox__","__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__","__WEBPACK_IMPORTED_MODULE_8__Activity__","__WEBPACK_IMPORTED_MODULE_9__utils__","__WEBPACK_IMPORTED_MODULE_10__api_measures__","__WEBPACK_IMPORTED_MODULE_11__api_components__","__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_13__styles_css__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","arguments","length","call","App","_super","_this","apply","state","loading","isEmpty","measures","isNotComputed","componentDidMount","mounted","html","document","querySelector","classList","add","fetchData","componentDidUpdate","prevProps","component","props","componentWillUnmount","remove","setState","Promise","all","key","ps","then","_a","subComponents","components","map","totalSubComponents","paging","total","renderSpinner","className","renderEmpty","renderWhenNotComputed","renderMain","undefined","render","2161","historyQueryChanged","prevQuery","nextQuery","graph","generateSeries","measuresHistory","metrics","displayedMetrics","__WEBPACK_IMPORTED_MODULE_0_lodash__","filter","measure","indexOf","metric","isCustomGraph","generateCoveredLinesMetric","find","data","history","analysis","x","date","y","type","Number","name","translatedName","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__","serie","getAnalysesByVersionByDay","analyses","query","reduce","acc","currentVersion","versionEvent","events","event","category","newVersion","version","byDay","keys","push","day","__WEBPACK_IMPORTED_MODULE_2__helpers_dates__","getTime","toString","matchFilters","from","to","isAfterFrom","isBeforeTo","hasSelectedCategoryEvents","parseQuery","urlQuery","__WEBPACK_IMPORTED_MODULE_1__helpers_query__","customMetrics","parseGraph","project","selectedDate","serializeQuery","serializeUrlQuery","custom_metrics","serializeGraph","id","selected_date","EVENT_TYPES","APPLICATION_EVENT_TYPES","DEFAULT_GRAPH","GRAPH_TYPES","datesQueryChanged","activityQueryChanged","customMetricsChanged","hasDataValues","hasHistoryData","hasHistoryDataValue","selectedDateQueryChanged","splitSeriesInGraphs","getSeriesMetricType","getDisplayedHistoryMetrics","getHistoryMetrics","GRAPHS_METRICS_DISPLAYED","issues","coverage","duplications","GRAPHS_METRICS","concat","some","point","series","uncoveredLines","linesToCover","idx","maxGraph","maxSeries","slice","includes","2172","getTimeMachineData","other","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","join","getAllTimeMachineData","prev","r","result","pageIndex","pageSize","2175","__WEBPACK_IMPORTED_MODULE_1_d3_array__","__WEBPACK_IMPORTED_MODULE_2_d3_scale__","__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__","DEFAULT_PADDING","Histogram","wrapWithTooltip","element","index","tooltip","yTooltips","overlay","placement","renderBar","xScale","yScale","alignTicks","_b","padding","width","Math","round","range","bandwidth","height","renderValue","yValues","BAR_HEIGHT","dx","dy","renderTick","yTicks","tick","historyTickClass","renderBars","bars","availableWidth","domain","availableHeight","_","rangeRound","transform","2176","LanguageDistribution","getLanguageName","langKey","__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__","lang","__WEBPACK_IMPORTED_MODULE_1_lodash__","languages","distribution","split","tokens","language","lines","parseInt","cutLanguageName","__WEBPACK_IMPORTED_MODULE_3__helpers_measures__","__WEBPACK_IMPORTED_MODULE_2__Histogram__","substr","2177","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__","__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__","mapStateToProps","2181","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","__WEBPACK_IMPORTED_MODULE_0_react___default","__WEBPACK_IMPORTED_MODULE_1_classnames__","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3_d3_array__","__WEBPACK_IMPORTED_MODULE_4_d3_scale__","__WEBPACK_IMPORTED_MODULE_5_d3_shape__","_extends","target","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_ref","a","createElement","AdvancedTimeline","_React$PureComponent","getPrototypeOf","_initialiseProps","scales","getScales","selectedDatePos","getSelectedDatePos","updateTooltipPos","handleZoomUpdate","nextProps","metricType","startDate","endDate","updateTooltip","selectedDateXPos","selectedDateIdx","zoomEnabled","disableZoom","updateZoom","isZoomed","chart-zoomed","renderClipPath","leakPeriodDate","renderLeak","hideGrid","renderHorizontalGrid","hideXAxis","renderXAxisTicks","showAreas","renderAreas","renderLines","showEventMarkers","renderEvents","renderSelectedDate","renderMouseEventsOverlay","PureComponent","defaultProps","eventSize","maxYTicksCount","zoomSpeed","_this2","getRatingScale","getLevelScale","getYScale","flatData","nice","getXScale","_ref2","dateRange","start","end","clamp","maxXRange","firstSerie","findIndex","valueOf","xRange","sort","xPos","getEventMarker","size","half","getMouseOverlayPos","mouseOverlayPos","pos","getBoundingClientRect","handleWheel","evt","preventDefault","_state","parentBbox","mouseXPos","pageX","left","speed","deltaMode","leftPos","deltaY","rightPos","invert","handleMouseMove","handleMouseEnter","mouseOver","handleMouseOut","targetClass","relatedTarget","handleClick","updateSelectedDate","bisectX","right","previousPoint","nextPoint","formatYTick","_state2","hasTicks","ticks","formattedTicks","textAnchor","x1","x2","y1","y2","_state3","format","tickFormat","nextTick","yRange","leakWidth","fill","lineGenerator","defined","basisCurve","curve","areaGenerator","y0","_props","_state4","inRangeEvents","offset","_state5","cx","cy","mouseEvents","onWheel","onMouseEnter","onMouseMove","onMouseOut","onClick","2195","RatingFreshness","lastChange","JSON","parse","__WEBPACK_IMPORTED_MODULE_1_react_intl__","defaultMessage","values","rating","__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__","small","__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__","2208","Effort","effort","metricKey","__WEBPACK_IMPORTED_MODULE_2_react_intl__","__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__","projects","__WEBPACK_IMPORTED_MODULE_1_react_router__","__WEBPACK_IMPORTED_MODULE_6__helpers_urls__","__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__","String","2209","HistoryButtonLink","__WEBPACK_IMPORTED_MODULE_3__helpers_urls__","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__","2210","MainRating","__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__","2211","MeasuresButtonLink","__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__","2225","__WEBPACK_IMPORTED_MODULE_2_prop_types__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__","__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default","__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__","__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__","__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_7__helpers_storage__","__WEBPACK_IMPORTED_MODULE_8__helpers_measures__","GRAPH_PADDING","MAX_GRAPH_NB","MAX_SERIES_PER_GRAPH","PreviewGraph","getSeries","tooltipIdx","tooltipXPos","disableHeight","interpolate","formatValue","graphWidth","tooltipPos","tabIndex","role","renderTimeline","renderWhenEmpty","contextTypes","router","_this3","getDisplayedMetrics","myHistory","firstValid","measureHistory","context","pathname","branch","2226","__WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__","__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__","__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__","PreviewGraphTooltips","customClass","position","top","long","style","2227","PreviewGraphTooltipsContent","__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__","2230","getReportStatus","componentKey","catch","__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__","getReportUrl","window","baseUrl","encodeURIComponent","subscribe","unsubscribe","2324","__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__","__WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__","__WEBPACK_IMPORTED_MODULE_3__api_metrics__","__WEBPACK_IMPORTED_MODULE_4__api_time_machine__","__WEBPACK_IMPORTED_MODULE_5__helpers_dates__","__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__","AnyPreviewGraph","Activity","fetchHistory","graphMetrics","timeMachine","history_1","forEach","2325","MaintainabilityBox","lastMaintainabilityChange","rawEffort","__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_2__MainRating__","__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__","__WEBPACK_IMPORTED_MODULE_1__Effort__","2326","ReleasabilityBox","lastReleasabilityChange","__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__","2327","ReliabilityBox","lastReliabilityChange","__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__","__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__","__WEBPACK_IMPORTED_MODULE_4__MainRating__","2328","__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__","__WEBPACK_IMPORTED_MODULE_2__api_report__","Report","renderHeader","loadStatus","status","canDownload","href","download","canSubscribe","2329","SecurityBox","lastSecurityChange","__WEBPACK_IMPORTED_MODULE_5__MainRating__","__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__","2330","__WEBPACK_IMPORTED_MODULE_1__api_report__","__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__","Subscription","stopLoading","handleSubscription","subscribed","handleSubscribe","e","currentTarget","blur","handleUnsubscribe","getEffectiveFrequencyText","effectiveFrequency","componentFrequency","globalFrequency","renderLoading","renderWhenSubscribed","renderWhenNotSubscribed","componentWillReceiveProps","inner","hasEmail","currentUser","email","2331","__WEBPACK_IMPORTED_MODULE_1__Subscription__","__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__","2332","Summary","ncloc","nclocDistribution","description","__WEBPACK_IMPORTED_MODULE_5__helpers_urls__","__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__","__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__","2333","WorstProjects","count","maxLoc","projectsPageUrl","__WEBPACK_IMPORTED_MODULE_7__helpers_urls__","refKey","__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__","qualifier","renderCell","renderNcloc","__WEBPACK_IMPORTED_MODULE_6__helpers_measures__","barWidth","max","2334","convertMeasures","PORTFOLIO_METRICS","SUB_COMPONENTS_METRICS","2673","exports","2723","content","options","locals"],"mappings":"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","file":"js/244.e9afb1c5.chunk.js","sourcesContent":["webpackJsonp([244],{\n\n/***/ 2117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Summary__ = __webpack_require__(2332);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Report__ = __webpack_require__(2328);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__WorstProjects__ = __webpack_require__(2333);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__ = __webpack_require__(2326);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__ = __webpack_require__(2327);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SecurityBox__ = __webpack_require__(2329);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__ = __webpack_require__(2325);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Activity__ = __webpack_require__(2324);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__utils__ = __webpack_require__(2334);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__api_measures__ = __webpack_require__(394);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__api_components__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__styles_css__ = __webpack_require__(2723);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__styles_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13__styles_css__);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar App = function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.isEmpty = function () {\n            return !_this.state.measures || !_this.state.measures['ncloc'];\n        };\n        _this.isNotComputed = function () {\n            return _this.state.measures && !_this.state.measures['reliability_rating'];\n        };\n        return _this;\n    }\n    App.prototype.componentDidMount = function () {\n        this.mounted = true;\n        var html = document.querySelector('html');\n        if (html) {\n            html.classList.add('dashboard-page');\n        }\n        this.fetchData();\n    };\n    App.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchData();\n        }\n    };\n    App.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n        var html = document.querySelector('html');\n        if (html) {\n            html.classList.remove('dashboard-page');\n        }\n    };\n    App.prototype.fetchData = function () {\n        var _this = this;\n        this.setState({ loading: true });\n        Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_10__api_measures__[\"a\" /* getMeasures */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_9__utils__[\"a\" /* PORTFOLIO_METRICS */]), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_11__api_components__[\"h\" /* getChildren */])(this.props.component.key, __WEBPACK_IMPORTED_MODULE_9__utils__[\"b\" /* SUB_COMPONENTS_METRICS */], { ps: 20, s: 'qualifier' })]).then(function (_a) {\n            var measures = _a[0],\n                subComponents = _a[1];\n            if (_this.mounted) {\n                _this.setState({\n                    loading: false,\n                    measures: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__utils__[\"c\" /* convertMeasures */])(measures),\n                    subComponents: subComponents.components.map(function (component) {\n                        return __assign({}, component, { measures: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__utils__[\"c\" /* convertMeasures */])(component.measures) });\n                    }),\n                    totalSubComponents: subComponents.paging.total\n                });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    App.prototype.renderSpinner = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner spinner-margin\" })));\n    };\n    App.prototype.renderEmpty = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.empty')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.empty.hint')));\n    };\n    App.prototype.renderWhenNotComputed = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"empty-search\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h3\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_12__helpers_l10n__[\"translate\"])('portfolio.not_computed')));\n    };\n    App.prototype.renderMain = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            measures = _a.measures,\n            subComponents = _a.subComponents,\n            totalSubComponents = _a.totalSubComponents;\n        if (this.isEmpty()) {\n            return this.renderEmpty();\n        }\n        if (this.isNotComputed()) {\n            return this.renderWhenNotComputed();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-boxes\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__ReleasabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__ReliabilityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_6__SecurityBox__[\"a\" /* default */], { component: component.key, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_7__MaintainabilityBox__[\"a\" /* default */], { component: component.key, measures: measures })), subComponents !== undefined && totalSubComponents !== undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__WorstProjects__[\"a\" /* default */], { component: component.key, subComponents: subComponents, total: totalSubComponents }));\n    };\n    App.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            loading = _a.loading,\n            measures = _a.measures;\n        if (loading) {\n            return this.renderSpinner();\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-with-sidebar\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-main\" }, this.renderMain()), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"aside\", { className: \"page-sidebar-fixed\" }, !this.isEmpty() && !this.isNotComputed() && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Summary__[\"a\" /* default */], { component: component, measures: measures }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_8__Activity__[\"a\" /* default */], { component: component.key }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Report__[\"a\" /* default */], { component: component }))));\n    };\n    return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 2161:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"o\", function() { return EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"u\", function() { return APPLICATION_EVENT_TYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return DEFAULT_GRAPH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"q\", function() { return GRAPH_TYPES; });\n/* unused harmony export GRAPHS_METRICS_DISPLAYED */\n/* unused harmony export GRAPHS_METRICS */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"m\", function() { return datesQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"s\", function() { return activityQueryChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return customMetricsChanged; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"p\", function() { return hasDataValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"n\", function() { return hasHistoryData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"v\", function() { return hasHistoryDataValue; });\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = historyQueryChanged;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return isCustomGraph; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"r\", function() { return selectedDateQueryChanged; });\n/* unused harmony export generateCoveredLinesMetric */\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = generateSeries;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"j\", function() { return splitSeriesInGraphs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"l\", function() { return getSeriesMetricType; });\n/* harmony export (immutable) */ __webpack_exports__[\"t\"] = getAnalysesByVersionByDay;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"i\", function() { return getDisplayedHistoryMetrics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getHistoryMetrics; });\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = parseQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = serializeQuery;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = serializeUrlQuery;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_query__ = __webpack_require__(701);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_dates__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nvar EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nvar APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nvar DEFAULT_GRAPH = 'issues';\nvar GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nvar GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nvar GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat(['reliability_rating', 'security_rating', 'sqale_rating']),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nvar datesQueryChanged = function datesQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.from, nextQuery.from) || !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.to, nextQuery.to);\n};\n\nvar activityQueryChanged = function activityQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n};\n\nvar customMetricsChanged = function customMetricsChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.customMetrics, nextQuery.customMetrics);\n};\n\nvar hasDataValues = function hasDataValues(serie /*: Serie */) {\n  return serie.data.some(function (point) {\n    return point.y || point.y === 0;\n  });\n};\n\nvar hasHistoryData = function hasHistoryData(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1;\n  });\n};\n\nvar hasHistoryDataValue = function hasHistoryDataValue(series /*: Array<Serie> */) {\n  return series.some(function (serie) {\n    return serie.data && serie.data.length > 1 && hasDataValues(serie);\n  });\n};\n\nfunction historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */{\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nvar isCustomGraph = function isCustomGraph(graph /*: string */) {\n  return graph === 'custom';\n};\n\nvar selectedDateQueryChanged = function selectedDateQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) {\n  return !__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"isEqual\"])(prevQuery.selectedDate, nextQuery.selectedDate);\n};\n\nvar generateCoveredLinesMetric = function generateCoveredLinesMetric(uncoveredLines /*: MeasureHistory */\n, measuresHistory /*: Array<MeasureHistory> */\n) {\n  var linesToCover = measuresHistory.find(function (measure) {\n    return measure.metric === 'lines_to_cover';\n  });\n  return {\n    data: linesToCover ? uncoveredLines.history.map(function (analysis, idx) {\n      return {\n        x: analysis.date,\n        y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n      };\n    }) : [],\n    name: 'covered_lines',\n    translatedName: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nfunction generateSeries(measuresHistory /*: Array<MeasureHistory> */\n, graph /*: string */\n, metrics /*: Array<Metric> */\n, displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */{\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"sortBy\"])(measuresHistory.filter(function (measure) {\n    return displayedMetrics.indexOf(measure.metric) >= 0;\n  }).map(function (measure) {\n    if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n      return generateCoveredLinesMetric(measure, measuresHistory);\n    }\n    var metric = metrics.find(function (metric) {\n      return metric.key === measure.metric;\n    });\n    return {\n      data: measure.history.map(function (analysis) {\n        return {\n          x: analysis.date,\n          y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n        };\n      }),\n      name: measure.metric,\n      translatedName: metric ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"getLocalizedMetricName\"])(metric) : measure.metric,\n      type: metric ? metric.type : 'INT'\n    };\n  }), function (serie) {\n    return displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name);\n  });\n}\n\nvar splitSeriesInGraphs = function splitSeriesInGraphs(series /*: Array<Serie> */\n, maxGraph /*: number */\n, maxSeries /*: number */\n) {\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"flatMap\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"groupBy\"])(series, function (serie) {\n    return serie.type;\n  }), function (type) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"chunk\"])(type, maxSeries);\n  }).slice(0, maxGraph);\n};\n\nvar getSeriesMetricType = function getSeriesMetricType(series /*: Array<Serie> */) {\n  return series.length > 0 ? series[0].type : 'INT';\n};\n\nfunction getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce(function (acc, analysis) {\n    var currentVersion = acc[acc.length - 1];\n    var versionEvent = analysis.events.find(function (event) {\n      return event.category === 'VERSION';\n    });\n    if (versionEvent) {\n      var newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    var day = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"startOfDay\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_dates__[\"parseDate\"])(analysis.date)).getTime().toString();\n\n    var matchFilters = true;\n    if (query.category || query.from || query.to) {\n      var isAfterFrom = !query.from || analysis.date >= query.from;\n      var isBeforeTo = !query.to || analysis.date <= query.to;\n      var hasSelectedCategoryEvents = !query.category || analysis.events.find(function (event) {\n        return event.category === query.category;\n      }) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nvar getDisplayedHistoryMetrics = function getDisplayedHistoryMetrics(graph /*: string */\n, customMetrics /*: Array<string> */\n) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph];\n};\n\nvar getHistoryMetrics = function getHistoryMetrics(graph /*: string */, customMetrics /*: Array<string> */) {\n  return isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n};\n\nvar parseGraph = function parseGraph(value /*: ?string */) {\n  var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nvar serializeGraph = function serializeGraph(value /*: string */) {\n  return value === DEFAULT_GRAPH ? undefined : value;\n};\n\nfunction parseQuery(urlQuery /*: RawQuery */) /*: Query */{\n  return {\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(urlQuery['category']),\n    customMetrics: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"b\" /* parseAsArray */])(urlQuery['custom_metrics'], __WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */]),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"c\" /* parseAsString */])(urlQuery['id']),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['to']),\n    selectedDate: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"i\" /* parseAsDate */])(urlQuery['selected_date'])\n  };\n}\n\nfunction serializeQuery(query /*: Query */) /*: RawQuery */{\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"g\" /* cleanQuery */])({\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.category),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.from),\n    project: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.project),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.to)\n  });\n}\n\nfunction serializeUrlQuery(query /*: Query */) /*: RawQuery */{\n  return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"g\" /* cleanQuery */])({\n    category: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.category),\n    custom_metrics: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"e\" /* serializeStringArray */])(query.customMetrics),\n    from: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.from),\n    graph: serializeGraph(query.graph),\n    id: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"f\" /* serializeString */])(query.project),\n    to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.to),\n    selected_date: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_query__[\"j\" /* serializeDate */])(query.selectedDate)\n  });\n}\n\n/***/ }),\n\n/***/ 2172:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getTimeMachineData */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getAllTimeMachineData;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(19);\n\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\nfunction getTimeMachineData(component, metrics, other) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/measures/search_history', __assign({ component: component, metrics: metrics.join(), ps: 1000 }, other));\n}\nfunction getAllTimeMachineData(component, metrics, other, prev) {\n    return getTimeMachineData(component, metrics, __assign({}, other, { ps: 1000 })).then(function (r) {\n        var result = prev ? {\n            measures: prev.measures.map(function (measure, idx) {\n                return __assign({}, measure, { history: measure.history.concat(r.measures[idx].history) });\n            }),\n            paging: r.paging\n        } : r;\n        if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n            return result;\n        }\n        return getAllTimeMachineData(component, metrics, __assign({}, other, { p: result.paging.pageIndex + 1 }), result);\n    });\n}\n\n/***/ }),\n\n/***/ 2175:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d3_array__ = __webpack_require__(251);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d3_scale__ = __webpack_require__(250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__ = __webpack_require__(24);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar BAR_HEIGHT = 10;\nvar DEFAULT_PADDING = [10, 10, 10, 10];\nvar Histogram = function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Histogram.prototype.wrapWithTooltip = function (element, index) {\n        var tooltip = this.props.yTooltips && this.props.yTooltips[index];\n        return tooltip ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__controls_Tooltip__[\"a\" /* default */], { key: index, overlay: tooltip, placement: \"top\" }, element) : element;\n    };\n    Histogram.prototype.renderBar = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var width = Math.round(xScale(d)) + 1;\n        var x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: x, y: y, width: width, height: BAR_HEIGHT });\n    };\n    Histogram.prototype.renderValue = function (d, index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b,\n            yValues = _a.yValues;\n        var value = yValues && yValues[index];\n        if (!value) {\n            return null;\n        }\n        var x = xScale(d) + (alignTicks ? padding[3] : 0);\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        return this.wrapWithTooltip(__WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: \"bar-chart-tick histogram-value\", x: x, y: y, dx: \"1em\", dy: \"0.3em\" }, value), index);\n    };\n    Histogram.prototype.renderTick = function (index, xScale, yScale) {\n        var _a = this.props,\n            alignTicks = _a.alignTicks,\n            yTicks = _a.yTicks;\n        var tick = yTicks && yTicks[index];\n        if (!tick) {\n            return null;\n        }\n        var x = xScale.range()[0];\n        var y = Math.round(yScale(index) + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n        var historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"text\", { className: 'bar-chart-tick ' + historyTickClass, x: x, y: y, dx: alignTicks ? 0 : '-1em', dy: \"0.3em\" }, tick);\n    };\n    Histogram.prototype.renderBars = function (xScale, yScale) {\n        var _this = this;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", null, this.props.bars.map(function (d, index) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { key: index }, _this.renderBar(d, index, xScale, yScale), _this.renderValue(d, index, xScale, yScale), _this.renderTick(index, xScale, yScale));\n        }));\n    };\n    Histogram.prototype.render = function () {\n        var _a = this.props,\n            bars = _a.bars,\n            width = _a.width,\n            height = _a.height,\n            _b = _a.padding,\n            padding = _b === void 0 ? DEFAULT_PADDING : _b;\n        var availableWidth = width - padding[1] - padding[3];\n        var xScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleLinear\"])().domain([0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_d3_array__[\"max\"])(bars)]).range([0, availableWidth]);\n        var availableHeight = height - padding[0] - padding[2];\n        var yScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_d3_scale__[\"scaleBand\"])().domain(bars.map(function (_, index) {\n            return index;\n        })).rangeRound([0, availableHeight]);\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { className: \"bar-chart\", width: this.props.width, height: this.props.height }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"g\", { transform: \"translate(\" + (this.props.alignTicks ? 4 : padding[3]) + \", \" + padding[0] + \")\" }, this.renderBars(xScale, yScale)));\n    };\n    return Histogram;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Histogram);\n\n/***/ }),\n\n/***/ 2176:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = LanguageDistribution;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Histogram__ = __webpack_require__(2175);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_measures__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\nfunction LanguageDistribution(props) {\n    var distribution = props.distribution.split(';').map(function (point) {\n        var tokens = point.split('=');\n        return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n    });\n    distribution = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"sortBy\"])(distribution, function (d) {\n        return -d.lines;\n    });\n    var data = distribution.map(function (d) {\n        return d.lines;\n    });\n    var yTicks = distribution.map(function (d) {\n        return getLanguageName(d.language);\n    }).map(cutLanguageName);\n    var yTooltips = distribution.map(function (d) {\n        return d.lines > 1000 ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'INT') : '';\n    });\n    var yValues = distribution.map(function (d) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_measures__[\"formatMeasure\"])(d.lines, 'SHORT_INT');\n    });\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Histogram__[\"a\" /* default */], { alignTicks: props.alignTicks, bars: data, height: distribution.length * 25, padding: [0, 60, 0, 80], yTicks: yTicks, yTooltips: yTooltips, yValues: yValues, width: props.width });\n    function getLanguageName(langKey) {\n        if (langKey === '<null>') {\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('unknown');\n        }\n        var lang = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"find\"])(props.languages, { key: langKey });\n        return lang ? lang.name : langKey;\n    }\n}\nfunction cutLanguageName(name) {\n    return name.length > 10 ? name.substr(0, 7) + \"...\" : name;\n}\n\n/***/ }),\n\n/***/ 2177:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_rootReducer__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__ = __webpack_require__(2176);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    languages: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__store_rootReducer__[\"getLanguages\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_2__LanguageDistribution__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 2181:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3_array__ = __webpack_require__(251);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d3_scale__ = __webpack_require__(250);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d3_shape__ = __webpack_require__(208);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div', null);\n\nvar AdvancedTimeline = function (_React$PureComponent) {\n  _inherits(AdvancedTimeline, _React$PureComponent);\n\n  function AdvancedTimeline(props /*: Props */) {\n    _classCallCheck(this, AdvancedTimeline);\n\n    var _this = _possibleConstructorReturn(this, (AdvancedTimeline.__proto__ || Object.getPrototypeOf(AdvancedTimeline)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var scales = _this.getScales(props);\n    var selectedDatePos = _this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    _this.state = Object.assign({}, scales, selectedDatePos);\n    _this.updateTooltipPos = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.updateTooltipPos, 40);\n    _this.handleZoomUpdate = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"throttle\"])(_this.handleZoomUpdate, 40);\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(AdvancedTimeline, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      var scales = void 0;\n      var selectedDatePos = void 0;\n      if (nextProps.metricType !== this.props.metricType || nextProps.startDate !== this.props.startDate || nextProps.endDate !== this.props.endDate || nextProps.width !== this.props.width || nextProps.padding !== this.props.padding || nextProps.height !== this.props.height || nextProps.series !== this.props.series) {\n        scales = this.getScales(nextProps);\n        if (this.state.selectedDate != null) {\n          selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n        }\n      }\n\n      if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"isEqual\"])(nextProps.selectedDate, this.props.selectedDate)) {\n        var xScale = scales ? scales.xScale : this.state.xScale;\n        selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n      }\n\n      if (scales || selectedDatePos) {\n        this.setState(Object.assign({}, scales || {}, selectedDatePos || {}));\n\n        if (selectedDatePos && nextProps.updateTooltip) {\n          nextProps.updateTooltip(selectedDatePos.selectedDate, selectedDatePos.selectedDateXPos, selectedDatePos.selectedDateIdx);\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.width || !this.props.height) {\n        return _ref;\n      }\n      var zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n      var isZoomed = this.props.startDate || this.props.endDate;\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'svg',\n        {\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart', { 'chart-zoomed': isZoomed }),\n          width: this.props.width,\n          height: this.props.height },\n        zoomEnabled && this.renderClipPath(),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { transform: 'translate(' + this.props.padding[3] + ', ' + this.props.padding[0] + ')' },\n          this.props.leakPeriodDate != null && this.renderLeak(),\n          !this.props.hideGrid && this.renderHorizontalGrid(),\n          !this.props.hideXAxis && this.renderXAxisTicks(),\n          this.props.showAreas && this.renderAreas(),\n          this.renderLines(),\n          this.props.showEventMarkers && this.renderEvents(),\n          this.renderSelectedDate(),\n          this.renderMouseEventsOverlay(zoomEnabled)\n        )\n      );\n    }\n  }]);\n\n  return AdvancedTimeline;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nAdvancedTimeline.defaultProps = {\n  eventSize: 8,\n  maxYTicksCount: 4,\n  padding: [10, 10, 30, 60],\n  zoomSpeed: 1\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.getRatingScale = function (availableHeight /*: number */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain([5, 4, 3, 2, 1]).range([availableHeight, 0]);\n  };\n\n  this.getLevelScale = function (availableHeight /*: number */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scalePoint\"])().domain(['ERROR', 'WARN', 'OK']).range([availableHeight, 0]);\n  };\n\n  this.getYScale = function (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) {\n    if (props.metricType === 'RATING') {\n      return _this2.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return _this2.getLevelScale(availableHeight);\n    } else {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleLinear\"])().range([availableHeight, 0]).domain([0, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"max\"])(flatData, function (d) {\n        return d.y;\n      }) || 1]).nice();\n    }\n  };\n\n  this.getXScale = function (_ref2 /*: Props */\n  , availableWidth /*: number */\n  , flatData /*: Array<Point> */\n  ) {\n    var startDate = _ref2.startDate,\n        endDate = _ref2.endDate;\n\n    var dateRange = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"extent\"])(flatData, function (d) {\n      return d.x;\n    });\n    var start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    var end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    var xScale = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_d3_scale__[\"scaleTime\"])().domain(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"sortBy\"])([start, end])).range([0, availableWidth]).clamp(false);\n    return {\n      xScale: xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  this.getScales = function (props /*: Props */) {\n    var availableWidth = props.width - props.padding[1] - props.padding[3];\n    var availableHeight = props.height - props.padding[0] - props.padding[2];\n    var flatData = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"flatten\"])(props.series.map(function (serie /*: Serie */) {\n      return serie.data;\n    }));\n    return Object.assign({}, _this2.getXScale(props, availableWidth, flatData), {\n      yScale: _this2.getYScale(props, availableHeight, flatData)\n    });\n  };\n\n  this.getSelectedDatePos = function (xScale /*: Scale */, selectedDate /*: ?Date */) {\n    var firstSerie = _this2.props.series[0];\n    if (selectedDate && firstSerie) {\n      var idx = firstSerie.data.findIndex(\n      // $FlowFixMe selectedDate can't be null there\n      function (p) {\n        return p.x.valueOf() === selectedDate.valueOf();\n      });\n      var xRange = xScale.range().sort();\n      var xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate: selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  this.getEventMarker = function (size /*: number */) {\n    var half = size / 2;\n    return 'M' + half + ' 0 L' + size + ' ' + half + ' L ' + half + ' ' + size + ' L0 ' + half + ' L' + half + ' 0 L' + size + ' ' + half;\n  };\n\n  this.getMouseOverlayPos = function (target /*: HTMLElement */) {\n    if (_this2.state.mouseOverlayPos) {\n      return _this2.state.mouseOverlayPos;\n    }\n    var pos = target.getBoundingClientRect();\n    _this2.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  this.handleWheel = function (evt /*: WheelEvent & { target: HTMLElement } */) {\n    evt.preventDefault();\n    var _state = _this2.state,\n        maxXRange = _state.maxXRange,\n        xScale = _state.xScale;\n\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    var mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    var xRange = xScale.range();\n    var speed = evt.deltaMode ? 25 / evt.deltaMode * _this2.props.zoomSpeed : _this2.props.zoomSpeed;\n    var leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    var rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    var startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    var endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    _this2.handleZoomUpdate(startDate, endDate);\n  };\n\n  this.handleZoomUpdate = function (startDate /*: ?Date */, endDate /*: ?Date */) {\n    if (_this2.props.updateZoom) {\n      _this2.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  this.handleMouseMove = function (evt /*: MouseEvent & { target: HTMLElement } */) {\n    var parentBbox = _this2.getMouseOverlayPos(evt.target);\n    _this2.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  this.handleMouseEnter = function () {\n    return _this2.setState({ mouseOver: true });\n  };\n\n  this.handleMouseOut = function (evt /*: Event & { relatedTarget: HTMLElement } */) {\n    var updateTooltip = _this2.props.updateTooltip;\n\n    var targetClass = evt.relatedTarget && typeof evt.relatedTarget.className === 'string' ? evt.relatedTarget.className : '';\n    if (!updateTooltip || targetClass.includes('bubble-popup') || targetClass.includes('graph-tooltip')) {\n      return;\n    }\n    _this2.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  this.handleClick = function () {\n    var updateSelectedDate = _this2.props.updateSelectedDate;\n\n    if (updateSelectedDate) {\n      updateSelectedDate(_this2.state.selectedDate);\n    }\n  };\n\n  this.updateTooltipPos = function (xPos /*: number */) {\n    var firstSerie = _this2.props.series[0];\n    if (_this2.state.mouseOver && firstSerie) {\n      var updateTooltip = _this2.props.updateTooltip;\n\n      var date = _this2.state.xScale.invert(xPos);\n      var bisectX = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_d3_array__[\"bisector\"])(function (d) {\n        return d.x;\n      }).right;\n      var idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        var previousPoint = firstSerie.data[idx - 1];\n        var nextPoint = firstSerie.data[idx];\n        if (!nextPoint || previousPoint && date - previousPoint.x <= nextPoint.x - date) {\n          idx--;\n        }\n        var selectedDate = firstSerie.data[idx].x;\n        var _xPos = _this2.state.xScale(selectedDate);\n        _this2.setState({ selectedDate: selectedDate, selectedDateXPos: _xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, _xPos, idx);\n        }\n      }\n    }\n  };\n\n  this.renderHorizontalGrid = function () {\n    var formatYTick = _this2.props.formatYTick;\n    var _state2 = _this2.state,\n        xScale = _state2.xScale,\n        yScale = _state2.yScale;\n\n    var hasTicks = typeof yScale.ticks === 'function';\n    var ticks = hasTicks ? yScale.ticks(_this2.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      var formattedTicks = ticks.map(function (tick) {\n        return formatYTick(tick);\n      });\n      if (ticks.length > __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"uniq\"])(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.map(function (tick) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'g',\n          { key: tick },\n          formatYTick != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'text',\n            {\n              className: 'line-chart-tick line-chart-tick-x',\n              dx: '-1em',\n              dy: '0.3em',\n              textAnchor: 'end',\n              x: xScale.range()[0],\n              y: yScale(tick) },\n            formatYTick(tick)\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n            className: 'line-chart-grid',\n            x1: xScale.range()[0],\n            x2: xScale.range()[1],\n            y1: yScale(tick),\n            y2: yScale(tick)\n          })\n        );\n      })\n    );\n  };\n\n  this.renderXAxisTicks = function () {\n    var _state3 = _this2.state,\n        xScale = _state3.xScale,\n        yScale = _state3.yScale;\n\n    var format = xScale.tickFormat(7);\n    var ticks = xScale.ticks(7);\n    var y = yScale.range()[0];\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      ticks.slice(0, -1).map(function (tick, index) {\n        var nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n        var x = (xScale(tick) + xScale(nextTick)) / 2;\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'text',\n          { key: index, className: 'line-chart-tick', x: x, y: y, dy: '1.5em' },\n          format(tick)\n        );\n      })\n    );\n  };\n\n  this.renderLeak = function () {\n    var yRange = _this2.state.yScale.range();\n    var xRange = _this2.state.xScale.range();\n    var leakWidth = xRange[xRange.length - 1] - _this2.state.xScale(_this2.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n      className: 'leak-chart-rect',\n      x: _this2.state.xScale(_this2.props.leakPeriodDate),\n      y: yRange[yRange.length - 1],\n      width: leakWidth,\n      height: yRange[0] - yRange[yRange.length - 1],\n      fill: '#fbf3d5'\n    });\n  };\n\n  this.renderLines = function () {\n    var lineGenerator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"line\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y(function (d) {\n      return _this2.state.yScale(d.y);\n    });\n    if (_this2.props.basisCurve) {\n      lineGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-path', 'line-chart-path-' + idx),\n          d: lineGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderAreas = function () {\n    var areaGenerator = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"area\"])().defined(function (d) {\n      return d.y || d.y === 0;\n    }).x(function (d) {\n      return _this2.state.xScale(d.x);\n    }).y1(function (d) {\n      return _this2.state.yScale(d.y);\n    }).y0(_this2.state.yScale(0));\n    if (_this2.props.basisCurve) {\n      areaGenerator.curve(__WEBPACK_IMPORTED_MODULE_5_d3_shape__[\"curveBasis\"]);\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      _this2.props.series.map(function (serie, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          key: serie.name,\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-area', 'line-chart-area-' + idx),\n          d: areaGenerator(serie.data)\n        });\n      })\n    );\n  };\n\n  this.renderEvents = function () {\n    var _props = _this2.props,\n        events = _props.events,\n        eventSize = _props.eventSize;\n\n    if (!events || !eventSize) {\n      return null;\n    }\n    var _state4 = _this2.state,\n        xScale = _state4.xScale,\n        yScale = _state4.yScale;\n\n    var inRangeEvents = events.filter(function (event) {\n      return event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1];\n    });\n    var offset = eventSize / 2;\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      inRangeEvents.map(function (event, idx) {\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('path', {\n          d: _this2.getEventMarker(eventSize),\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-event', event.className),\n          key: idx + '-' + event.date.getTime(),\n          transform: 'translate(' + (xScale(event.date) - offset) + ', ' + (yScale.range()[0] + offset) + ')'\n        });\n      })\n    );\n  };\n\n  this.renderSelectedDate = function () {\n    var _state5 = _this2.state,\n        selectedDateIdx = _state5.selectedDateIdx,\n        selectedDateXPos = _state5.selectedDateXPos,\n        yScale = _state5.yScale;\n\n    var firstSerie = _this2.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'g',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('line', {\n        className: 'line-tooltip',\n        x1: selectedDateXPos,\n        x2: selectedDateXPos,\n        y1: yScale.range()[0],\n        y2: yScale.range()[1]\n      }),\n      _this2.props.series.map(function (serie, idx) {\n        var point = serie.data[selectedDateIdx];\n        if (!point || !point.y && point.y !== 0) {\n          return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('circle', {\n          key: serie.name,\n          cx: selectedDateXPos,\n          cy: yScale(point.y),\n          r: '4',\n          className: __WEBPACK_IMPORTED_MODULE_1_classnames___default()('line-chart-dot', 'line-chart-dot-' + idx)\n        });\n      })\n    );\n  };\n\n  this.renderClipPath = function () {\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'defs',\n      null,\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'clipPath',\n        { id: 'chart-clip' },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', {\n          width: _this2.state.xScale.range()[1],\n          height: _this2.state.yScale.range()[0] + 10,\n          transform: 'translate(0,-5)'\n        })\n      )\n    );\n  };\n\n  this.renderMouseEventsOverlay = function (zoomEnabled /*: boolean */) {\n    var mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = _this2.handleWheel;\n    }\n    if (_this2.props.updateTooltip) {\n      mouseEvents.onMouseEnter = _this2.handleMouseEnter;\n      mouseEvents.onMouseMove = _this2.handleMouseMove;\n      mouseEvents.onMouseOut = _this2.handleMouseOut;\n    }\n    if (_this2.props.updateSelectedDate) {\n      mouseEvents.onClick = _this2.handleClick;\n    }\n    return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('rect', _extends({\n      className: 'chart-mouse-events-overlay',\n      width: _this2.state.xScale.range()[1],\n      height: _this2.state.yScale.range()[0]\n    }, mouseEvents));\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (AdvancedTimeline);\n\n/***/ }),\n\n/***/ 2195:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = RatingFreshness;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_intl__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\nfunction RatingFreshness(_a) {\n    var lastChange = _a.lastChange;\n    if (!lastChange) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, '\\xA0');\n    }\n    var data = JSON.parse(lastChange);\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-freshness\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_intl__[\"c\" /* FormattedMessage */], { defaultMessage: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('portfolio.was_x_y'), id: \"portfolio.was_x_y\", values: {\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: data.value, small: true }),\n            date: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_intl_DateFromNow__[\"a\" /* default */], { date: data.date })\n        } }));\n}\n\n/***/ }),\n\n/***/ 2208:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Effort;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_intl__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction Effort(_a) {\n    var component = _a.component,\n        effort = _a.effort,\n        metricKey = _a.metricKey;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2_react_intl__[\"c\" /* FormattedMessage */], { defaultMessage: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('portfolio.x_in_y'), id: \"portfolio.x_in_y\", values: {\n            projects: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component, metricKey) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: {\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                } }), ' ', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('projects_'))),\n            rating: __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { small: true, value: effort.rating })\n        } }));\n}\n\n/***/ }),\n\n/***/ 2209:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = HistoryButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__ = __webpack_require__(734);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction HistoryButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small button-compact spacer-left text-text-bottom\", to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"m\" /* getMeasureHistoryUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_icons__[\"HistoryIcon\"], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2210:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MainRating;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction MainRating(_a) {\n  var component = _a.component,\n      metric = _a.metric,\n      value = _a.value;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"l\" /* getMeasureTreemapUrl */])(component, metric), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_ui_Rating__[\"a\" /* default */], { value: value }));\n}\n\n/***/ }),\n\n/***/ 2211:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MeasuresButtonLink;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__ = __webpack_require__(396);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\nfunction MeasuresButtonLink(_a) {\n  var component = _a.component,\n      metric = _a.metric;\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { className: \"button button-small button-compact spacer-left text-text-bottom\", to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component, metric) }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_icons_components_BubblesIcon__[\"a\" /* default */], { size: 14 }));\n}\n\n/***/ }),\n\n/***/ 2225:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_prop_types__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__ = __webpack_require__(703);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__ = __webpack_require__(2181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__ = __webpack_require__(2226);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__ = __webpack_require__(2161);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(252);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_measures__ = __webpack_require__(25);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\n\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nvar GRAPH_PADDING = [4, 0, 4, 0];\nvar MAX_GRAPH_NB = 1;\nvar MAX_SERIES_PER_GRAPH = 3;\n\nvar PreviewGraph = function (_React$PureComponent) {\n  _inherits(PreviewGraph, _React$PureComponent);\n\n  function PreviewGraph(props /*: Props */) {\n    _classCallCheck(this, PreviewGraph);\n\n    var _this = _possibleConstructorReturn(this, (PreviewGraph.__proto__ || Object.getPrototypeOf(PreviewGraph)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])();\n    var customMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])();\n    var series = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* splitSeriesInGraphs */])(_this.getSeries(props.history, graph, customMetrics, props.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n    _this.state = {\n      customMetrics: customMetrics,\n      graph: graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n    return _this;\n  }\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  _createClass(PreviewGraph, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps /*: Props */) {\n      if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n        var graph = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])();\n        var customMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])();\n        var series = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"j\" /* splitSeriesInGraphs */])(this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics), MAX_GRAPH_NB, MAX_SERIES_PER_GRAPH);\n        this.setState({\n          customMetrics: customMetrics,\n          graph: graph,\n          series: series.length > 0 ? series[0] : []\n        });\n      }\n    }\n  }, {\n    key: 'renderTimeline',\n    value: function renderTimeline() {\n      var _this2 = this;\n\n      var _state = this.state,\n          graph = _state.graph,\n          selectedDate = _state.selectedDate,\n          series = _state.series,\n          tooltipIdx = _state.tooltipIdx,\n          tooltipXPos = _state.tooltipXPos;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_3_react_virtualized_dist_commonjs_AutoSizer___default.a,\n        { disableHeight: true },\n        function (_ref) {\n          var width = _ref.width;\n          return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            null,\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__charts_AdvancedTimeline__[\"a\" /* default */], {\n              endDate: null,\n              startDate: null,\n              height: 80,\n              width: width,\n              hideGrid: true,\n              hideXAxis: true,\n              interpolate: 'linear',\n              metricType: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(series),\n              padding: GRAPH_PADDING,\n              series: series,\n              showAreas: ['coverage', 'duplications'].includes(graph),\n              updateTooltip: _this2.updateTooltip\n            }),\n            selectedDate != null && tooltipXPos != null && tooltipIdx != null && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__PreviewGraphTooltips__[\"a\" /* default */], {\n              formatValue: _this2.formatValue,\n              graph: graph,\n              graphWidth: width,\n              metrics: _this2.props.metrics,\n              selectedDate: selectedDate,\n              series: series,\n              tooltipIdx: tooltipIdx,\n              tooltipPos: tooltipXPos\n            })\n          );\n        }\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var series = this.state.series;\n\n      if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"v\" /* hasHistoryDataValue */])(series)) {\n        return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        'div',\n        {\n          className: 'overview-analysis-graph big-spacer-bottom spacer-top',\n          onClick: this.handleClick,\n          tabIndex: 0,\n          role: 'link' },\n        this.renderTimeline()\n      );\n    }\n  }]);\n\n  return PreviewGraph;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nPreviewGraph.contextTypes = {\n  router: __WEBPACK_IMPORTED_MODULE_2_prop_types__[\"object\"]\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.formatValue = function (tick /*: number | string */) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"formatMeasure\"])(tick, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8__helpers_measures__[\"getShortType\"])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"l\" /* getSeriesMetricType */])(_this3.state.series)));\n  };\n\n  this.getDisplayedMetrics = function (graph /*: string */, customMetrics /*: Array<string> */) {\n    var metrics /*: Array<string> */ = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"d\" /* DEFAULT_GRAPH */], customMetrics);\n    }\n    return metrics;\n  };\n\n  this.getSeries = function (history /*: ?History */\n  , graph /*: string */\n  , customMetrics /*: Array<string> */\n  , metrics /*: Array<Metric> */\n  ) {\n    var myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    var displayedMetrics = _this3.getDisplayedMetrics(graph, customMetrics);\n    var firstValid = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"minBy\"])(displayedMetrics.map(function (metric) {\n      return myHistory[metric].find(function (p) {\n        return p.value || p.value === 0;\n      });\n    }), 'date');\n    var measureHistory = displayedMetrics.map(function (metric) {\n      return {\n        metric: metric,\n        history: firstValid ? myHistory[metric].filter(function (p) {\n          return p.date >= firstValid.date;\n        }) : myHistory[metric]\n      };\n    });\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__apps_projectActivity_utils__[\"h\" /* generateSeries */])(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  this.handleClick = function () {\n    _this3.context.router.push({\n      pathname: '/project/activity',\n      query: { id: _this3.props.project, branch: _this3.props.branch }\n    });\n  };\n\n  this.updateTooltip = function (selectedDate /*: ?Date */\n  , tooltipXPos /*: ?number */\n  , tooltipIdx /*: ?number */\n  ) {\n    return _this3.setState({ selectedDate: selectedDate, tooltipXPos: tooltipXPos, tooltipIdx: tooltipIdx });\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraph);\n\n/***/ }),\n\n/***/ 2226:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__ = __webpack_require__(388);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__ = __webpack_require__(2227);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nvar TOOLTIP_WIDTH = 160;\n\nvar PreviewGraphTooltips = function (_React$PureComponent) {\n  _inherits(PreviewGraphTooltips, _React$PureComponent);\n\n  function PreviewGraphTooltips() {\n    _classCallCheck(this, PreviewGraphTooltips);\n\n    return _possibleConstructorReturn(this, (PreviewGraphTooltips.__proto__ || Object.getPrototypeOf(PreviewGraphTooltips)).apply(this, arguments));\n  }\n\n  _createClass(PreviewGraphTooltips, [{\n    key: 'render',\n\n    /*:: props: Props; */\n\n    value: function render() {\n      var _this2 = this;\n\n      var tooltipIdx = this.props.tooltipIdx;\n\n      var top = 16;\n      var left = this.props.tooltipPos;\n      var customClass = void 0;\n      if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n        left -= TOOLTIP_WIDTH;\n        customClass = 'bubble-popup-right';\n      }\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1__common_BubblePopup__[\"a\" /* default */],\n        { customClass: customClass, position: { top: top, left: left, width: TOOLTIP_WIDTH } },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'div',\n          { className: 'overview-analysis-graph-tooltip' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'overview-analysis-graph-tooltip-title' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__intl_DateFormatter__[\"a\" /* default */], { date: this.props.selectedDate, long: true })\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'table',\n            { className: 'width-100' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'tbody',\n              null,\n              this.props.series.map(function (serie, idx) {\n                var point = serie.data[tooltipIdx];\n                if (!point || !point.y && point.y !== 0) {\n                  return null;\n                }\n                return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__PreviewGraphTooltipsContent__[\"a\" /* default */], {\n                  key: serie.name,\n                  style: idx.toString(),\n                  translatedName: serie.translatedName,\n                  value: _this2.props.formatValue(point.y)\n                });\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PreviewGraphTooltips;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PreviewGraphTooltips);\n\n/***/ }),\n\n/***/ 2227:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = PreviewGraphTooltipsContent;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__ = __webpack_require__(702);\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nfunction PreviewGraphTooltipsContent(_ref /*: Props */) {\n  var style = _ref.style,\n      translatedName = _ref.translatedName,\n      value = _ref.value;\n\n  return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n    'tr',\n    { className: 'overview-analysis-graph-tooltip-line' },\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'thin' },\n      __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__icons_components_ChartLegendIcon__[\"a\" /* default */], {\n        className: 'little-spacer-right line-chart-legend line-chart-legend-' + style\n      })\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'overview-analysis-graph-tooltip-value text-right little-spacer-right thin' },\n      value\n    ),\n    __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n      'td',\n      { className: 'text-ellipsis overview-analysis-graph-tooltip-description' },\n      translatedName\n    )\n  );\n}\n\n/***/ }),\n\n/***/ 2230:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getReportStatus;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getReportUrl;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = subscribe;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = unsubscribe;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__ = __webpack_require__(42);\n\n/*\r\n* SonarQube\r\n* Copyright (C) 2009-2016 SonarSource SA\r\n* mailto:contact AT sonarsource DOT com\r\n*\r\n* This program is free software; you can redistribute it and/or\r\n* modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction getReportStatus(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/governance_reports/status', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction getReportUrl(component) {\n    return window.baseUrl + '/api/governance_reports/download?componentKey=' + encodeURIComponent(component);\n}\nfunction subscribe(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/subscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction unsubscribe(component) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/governance_reports/unsubscribe', { componentKey: component }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\n\n/***/ }),\n\n/***/ 2324:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__ = __webpack_require__(2161);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__ = __webpack_require__(2225);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api_metrics__ = __webpack_require__(395);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_time_machine__ = __webpack_require__(2172);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_dates__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_storage__ = __webpack_require__(252);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nvar AnyPreviewGraph = __WEBPACK_IMPORTED_MODULE_2__components_preview_graph_PreviewGraph__[\"a\" /* default */];\nvar Activity = function (_super) {\n    __extends(Activity, _super);\n    function Activity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.fetchHistory = function () {\n            var component = _this.props.component;\n            var graphMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"a\" /* getGraph */])(), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_storage__[\"b\" /* getCustomGraph */])());\n            if (!graphMetrics || graphMetrics.length <= 0) {\n                graphMetrics = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"i\" /* getDisplayedHistoryMetrics */])(__WEBPACK_IMPORTED_MODULE_1__projectActivity_utils__[\"d\" /* DEFAULT_GRAPH */], []);\n            }\n            _this.setState({ loading: true });\n            return Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_time_machine__[\"a\" /* getAllTimeMachineData */])(component, graphMetrics), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__api_metrics__[\"a\" /* getMetrics */])()]).then(function (_a) {\n                var timeMachine = _a[0],\n                    metrics = _a[1];\n                if (_this.mounted) {\n                    var history_1 = {};\n                    timeMachine.measures.forEach(function (measure) {\n                        var measureHistory = measure.history.map(function (analysis) {\n                            return {\n                                date: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_dates__[\"parseDate\"])(analysis.date),\n                                value: analysis.value\n                            };\n                        });\n                        history_1[measure.metric] = measureHistory;\n                    });\n                    _this.setState({ history: history_1, loading: false, metrics: metrics });\n                }\n            }, function () {\n                if (_this.mounted) {\n                    _this.setState({ loading: false });\n                }\n            });\n        };\n        _this.renderWhenEmpty = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('component_measures.no_history'));\n        };\n        return _this;\n    }\n    Activity.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.fetchHistory();\n    };\n    Activity.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.component !== this.props.component) {\n            this.fetchHistory();\n        }\n    };\n    Activity.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Activity.prototype.render = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('project_activity.page')), this.state.loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : this.state.metrics != undefined && this.state.history != undefined && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](AnyPreviewGraph, { history: this.state.history, metrics: this.state.metrics, project: this.props.component, renderWhenEmpty: this.renderWhenEmpty }));\n    };\n    return Activity;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Activity);\n\n/***/ }),\n\n/***/ 2325:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = MaintainabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MainRating__ = __webpack_require__(2210);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__ = __webpack_require__(2211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__ = __webpack_require__(2209);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(2195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction MaintainabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['sqale_rating'];\n    var lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n    var rawEffort = measures['maintainability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-maintainability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Maintainability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Maintainability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"sqale_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MainRating__[\"a\" /* default */], { component: component, metric: 'sqale_rating', value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastMaintainabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: 'sqale_rating' }));\n}\n\n/***/ }),\n\n/***/ 2326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReleasabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__RatingFreshness__ = __webpack_require__(2195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__ = __webpack_require__(204);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction ReleasabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['releasability_rating'];\n    var lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n    var effort = measures['releasability_effort'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-releasability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component, 'alert_status'), className: \"portfolio-box-rating\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_ui_Rating__[\"a\" /* default */], { value: rating })), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__RatingFreshness__[\"a\" /* default */], { lastChange: lastReleasabilityChange }), effort && Number(effort) > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-effort\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component, 'alert_status') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: effort } }), ' ', Number(effort) === 1 ? 'project' : 'projects')), ' ', __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"level level-ERROR level-small\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.level.ERROR'))));\n}\n\n/***/ }),\n\n/***/ 2327:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = ReliabilityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(2211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2209);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__MainRating__ = __webpack_require__(2210);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__RatingFreshness__ = __webpack_require__(2195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction ReliabilityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['reliability_rating'];\n    var lastReliabilityChange = measures['last_change_on_reliability_rating'];\n    var rawEffort = measures['reliability_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-reliability\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Reliability'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Reliability\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"reliability_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__MainRating__[\"a\" /* default */], { component: component, metric: \"reliability_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__RatingFreshness__[\"a\" /* default */], { lastChange: lastReliabilityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"reliability_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2328:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__ = __webpack_require__(2331);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_report__ = __webpack_require__(2230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar Report = function (_super) {\n    __extends(Report, _super);\n    function Report() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.renderHeader = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h4\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.page'));\n        };\n        return _this;\n    }\n    Report.prototype.componentDidMount = function () {\n        this.mounted = true;\n        this.loadStatus();\n    };\n    Report.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Report.prototype.loadStatus = function () {\n        var _this = this;\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"a\" /* getReportStatus */])(this.props.component.key).then(function (status) {\n            if (_this.mounted) {\n                _this.setState({ status: status, loading: false });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    Report.prototype.render = function () {\n        var component = this.props.component;\n        var _a = this.state,\n            status = _a.status,\n            loading = _a.loading;\n        if (loading) {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }));\n        }\n        if (!status) {\n            return null;\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderHeader(), !status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"note js-report-cant-download\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.cant_download')), status.canDownload && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-report-can-download\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.can_download'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"a\", { className: \"button js-report-download\", href: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_report__[\"b\" /* getReportUrl */])(component.key), target: \"_blank\", download: component.name + ' - Executive Report.pdf' }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('report.print')))), status.canSubscribe && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__SubscriptionContainer__[\"a\" /* default */], { component: component.key, status: status }));\n    };\n    return Report;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Report);\n\n/***/ }),\n\n/***/ 2329:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = SecurityBox;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Effort__ = __webpack_require__(2208);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__ = __webpack_require__(2211);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__ = __webpack_require__(2209);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__RatingFreshness__ = __webpack_require__(2195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__MainRating__ = __webpack_require__(2210);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nfunction SecurityBox(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var rating = measures['security_rating'];\n    var lastSecurityChange = measures['last_change_on_security_rating'];\n    var rawEffort = measures['security_rating_effort'];\n    var effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-box portfolio-security\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h2\", { className: \"portfolio-box-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_l10n__[\"translate\"])('metric_domain.Security'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__MeasuresButtonLink__[\"a\" /* default */], { component: component, metric: \"Security\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__HistoryButtonLink__[\"a\" /* default */], { component: component, metric: \"security_rating\" })), rating && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_5__MainRating__[\"a\" /* default */], { component: component, metric: \"security_rating\", value: rating }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__RatingFreshness__[\"a\" /* default */], { lastChange: lastSecurityChange }), effort && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1__Effort__[\"a\" /* default */], { component: component, effort: effort, metricKey: \"security_rating\" }));\n}\n\n/***/ }),\n\n/***/ 2330:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_report__ = __webpack_require__(2230);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nvar Subscription = function (_super) {\n    __extends(Subscription, _super);\n    function Subscription(props) {\n        var _this = _super.call(this, props) || this;\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleSubscription = function (subscribed) {\n            if (_this.mounted) {\n                _this.setState({ loading: false, subscribed: subscribed });\n            }\n        };\n        _this.handleSubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"c\" /* subscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(true);\n            }).catch(_this.stopLoading);\n        };\n        _this.handleUnsubscribe = function (e) {\n            e.preventDefault();\n            e.currentTarget.blur();\n            _this.setState({ loading: true });\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_report__[\"d\" /* unsubscribe */])(_this.props.component).then(function () {\n                return _this.handleSubscription(false);\n            }).catch(_this.stopLoading);\n        };\n        _this.getEffectiveFrequencyText = function () {\n            var effectiveFrequency = _this.props.status.componentFrequency || _this.props.status.globalFrequency;\n            return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.frequency', effectiveFrequency, 'effective');\n        };\n        _this.renderLoading = function () {\n            return _this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spacer-left spinner\" });\n        };\n        _this.renderWhenSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-bottom\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"icon-check pull-left spacer-right\" }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"overflow-hidden\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.subscribed', _this.getEffectiveFrequencyText()))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { onClick: _this.handleUnsubscribe }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.unsubscribe')), _this.renderLoading());\n        };\n        _this.renderWhenNotSubscribed = function () {\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"js-not-subscribed\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"spacer-bottom\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translateWithParameters\"])('report.unsubscribed', _this.getEffectiveFrequencyText())), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"button\", { className: \"js-report-subscribe\", onClick: _this.handleSubscribe }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.subscribe')), _this.renderLoading());\n        };\n        _this.state = { subscribed: props.status.subscribed, loading: false };\n        return _this;\n    }\n    Subscription.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    Subscription.prototype.componentWillReceiveProps = function (nextProps) {\n        if (nextProps.status.subscribed !== this.props.status.subscribed) {\n            this.setState({ subscribed: nextProps.status.subscribed });\n        }\n    };\n    Subscription.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Subscription.prototype.render = function () {\n        var hasEmail = !!this.props.currentUser.email;\n        var subscribed = this.state.subscribed;\n        var inner;\n        if (hasEmail) {\n            inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n        } else {\n            inner = __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"p\", { className: \"note js-no-email\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__helpers_l10n__[\"translate\"])('report.no_email_to_subscribe'));\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top js-report-subscription\" }, inner);\n    };\n    return Subscription;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Subscription);\n\n/***/ }),\n\n/***/ 2331:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Subscription__ = __webpack_require__(2330);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_rootReducer__ = __webpack_require__(11);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    currentUser: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__store_rootReducer__[\"getCurrentUser\"])(state)\n  };\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps)(__WEBPACK_IMPORTED_MODULE_1__Subscription__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 2332:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Summary;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__ = __webpack_require__(2177);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\nfunction Summary(_a) {\n    var component = _a.component,\n        measures = _a.measures;\n    var projects = measures['projects'];\n    var ncloc = measures['ncloc'];\n    var nclocDistribution = measures['ncloc_language_distribution'];\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"section\", { id: \"portfolio-summary\", className: \"big-spacer-bottom\" }, component.description && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-bottom\" }, component.description), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"ul\", { className: \"portfolio-grid\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component.key, 'projects') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'projects', type: 'SHORT_INT' }, value: projects } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('projects'))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"li\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"portfolio-measure-secondary-value\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_urls__[\"k\" /* getComponentDrilldownUrl */])(component.key, 'ncloc') }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc } }))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"spacer-top text-muted\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), nclocDistribution && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"big-spacer-top\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__components_charts_LanguageDistributionContainer__[\"a\" /* default */], { distribution: nclocDistribution, width: 260 })));\n}\n\n/***/ }),\n\n/***/ 2333:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = WorstProjects;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__ = __webpack_require__(389);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_measures__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_urls__ = __webpack_require__(34);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\n\nfunction WorstProjects(_a) {\n    var component = _a.component,\n        subComponents = _a.subComponents,\n        total = _a.total;\n    var count = subComponents.length;\n    if (!count) {\n        return null;\n    }\n    var maxLoc = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"max\"])(subComponents.map(function (component) {\n        return Number(component.measures['ncloc'] || 0);\n    }));\n    var projectsPageUrl = { pathname: '/code', query: { id: component } };\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"panel panel-white portfolio-sub-components\", id: \"portfolio-sub-components\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"table\", { className: \"data zebra\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"thead\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", null, '\\xA0'), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Releasability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Reliability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Security')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric_domain.Maintainability')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"th\", { className: \"text-center portfolio-sub-components-cell\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('metric.ncloc.name')))), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tbody\", null, subComponents.map(function (component) {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"tr\", { key: component.key }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_urls__[\"b\" /* getProjectUrl */])(component.refKey || component.key), className: \"link-with-icon\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_4__components_shared_QualifierIcon__[\"a\" /* default */], { qualifier: component.qualifier }), \" \", component.name)), component.qualifier === 'TRK' ? renderCell(component.measures, 'alert_status', 'LEVEL') : renderCell(component.measures, 'releasability_rating', 'RATING'), renderCell(component.measures, 'reliability_rating', 'RATING'), renderCell(component.measures, 'security_rating', 'RATING'), renderCell(component.measures, 'sqale_rating', 'RATING'), renderNcloc(component.measures, maxLoc));\n    }))), total > count && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"footer\", { className: \"spacer-top note text-center\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translateWithParameters\"])('x_of_y_shown', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(count, 'INT'), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__helpers_measures__[\"formatMeasure\"])(total, 'INT')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_router__[\"Link\"], { to: projectsPageUrl, className: \"spacer-left\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('show_more'))));\n}\nfunction renderCell(measures, metric, type) {\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-center\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: { metric: { key: metric, type: type }, value: measures[metric] } }));\n}\nfunction renderNcloc(measures, maxLoc) {\n    var ncloc = Number(measures['ncloc'] || 0);\n    var barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"td\", { className: \"text-right\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", { className: \"note\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__components_measure_Measure__[\"a\" /* default */], { measure: {\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n        } })), maxLoc > 0 && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"svg\", { width: \"50\", height: \"16\", className: \"spacer-left\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"rect\", { className: \"bar-chart-bar\", x: \"0\", y: \"3\", width: barWidth, height: \"10\" })));\n}\n\n/***/ }),\n\n/***/ 2334:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getNextRating */\n/* unused harmony export getEffortToNextRating */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PORTFOLIO_METRICS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return SUB_COMPONENTS_METRICS; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = convertMeasures;\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2016 SonarSource SA\r\n * mailto:contact AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\nfunction getNextRating(rating) {\n    return rating > 1 ? rating - 1 : undefined;\n}\nfunction getWorstSeverity(data) {\n    var SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n    var severities = {};\n    data.split(';').forEach(function (equality) {\n        var _a = equality.split('='),\n            key = _a[0],\n            count = _a[1];\n        severities[key] = Number(count);\n    });\n    for (var i = 0; i < SEVERITY_ORDER.length; i++) {\n        var count = severities[SEVERITY_ORDER[i]];\n        if (count > 0) {\n            return { severity: SEVERITY_ORDER[i], count: count };\n        }\n    }\n    return undefined;\n}\nfunction getEffortToNextRating(measures, metricKey) {\n    var measure = measures.find(function (measure) {\n        return measure.metric.key === metricKey;\n    });\n    if (!measure) {\n        return undefined;\n    }\n    return getWorstSeverity(measure.value);\n}\nvar PORTFOLIO_METRICS = ['projects', 'ncloc', 'ncloc_language_distribution', 'releasability_rating', 'releasability_effort', 'sqale_rating', 'maintainability_rating_effort', 'reliability_rating', 'reliability_rating_effort', 'security_rating', 'security_rating_effort', 'last_change_on_releasability_rating', 'last_change_on_maintainability_rating', 'last_change_on_security_rating', 'last_change_on_reliability_rating'];\nvar SUB_COMPONENTS_METRICS = ['ncloc', 'releasability_rating', 'security_rating', 'reliability_rating', 'sqale_rating', 'alert_status'];\nfunction convertMeasures(measures) {\n    var result = {};\n    measures.forEach(function (measure) {\n        result[measure.metric] = measure.value;\n    });\n    return result;\n}\n\n/***/ }),\n\n/***/ 2673:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(27)(undefined);\n// imports\n\n\n// module\nexports.push([module.i, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 2723:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(2673);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(28)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--4-1!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--4-1!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/244.e9afb1c5.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Summary from './Summary';\nimport Report from './Report';\nimport WorstProjects from './WorstProjects';\nimport ReleasabilityBox from './ReleasabilityBox';\nimport ReliabilityBox from './ReliabilityBox';\nimport SecurityBox from './SecurityBox';\nimport MaintainabilityBox from './MaintainabilityBox';\nimport Activity from './Activity';\nimport { SubComponent } from '../types';\nimport { PORTFOLIO_METRICS, SUB_COMPONENTS_METRICS, convertMeasures } from '../utils';\nimport { getMeasures } from '../../../api/measures';\nimport { getChildren } from '../../../api/components';\nimport { translate } from '../../../helpers/l10n';\nimport '../styles.css';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  measures?: { [key: string]: string | undefined };\n  subComponents?: SubComponent[];\n  totalSubComponents?: number;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    const html = document.querySelector('html');\n    if (html) {\n      html.classList.add('dashboard-page');\n    }\n    this.fetchData();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchData();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    const html = document.querySelector('html');\n    if (html) {\n      html.classList.remove('dashboard-page');\n    }\n  }\n\n  fetchData() {\n    this.setState({ loading: true });\n    Promise.all([\n      getMeasures(this.props.component.key, PORTFOLIO_METRICS),\n      getChildren(this.props.component.key, SUB_COMPONENTS_METRICS, { ps: 20, s: 'qualifier' })\n    ]).then(\n      ([measures, subComponents]) => {\n        if (this.mounted) {\n          this.setState({\n            loading: false,\n            measures: convertMeasures(measures),\n            subComponents: subComponents.components.map((component: any) => ({\n              ...component,\n              measures: convertMeasures(component.measures)\n            })),\n            totalSubComponents: subComponents.paging.total\n          });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  isEmpty = () => !this.state.measures || !this.state.measures['ncloc'];\n\n  isNotComputed = () => this.state.measures && !this.state.measures['reliability_rating'];\n\n  renderSpinner() {\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"text-center\">\n          <i className=\"spinner spinner-margin\" />\n        </div>\n      </div>\n    );\n  }\n\n  renderEmpty() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.empty')}</h3>\n        <p>{translate('portfolio.empty.hint')}</p>\n      </div>\n    );\n  }\n\n  renderWhenNotComputed() {\n    return (\n      <div className=\"empty-search\">\n        <h3>{translate('portfolio.not_computed')}</h3>\n      </div>\n    );\n  }\n\n  renderMain() {\n    const { component } = this.props;\n    const { measures, subComponents, totalSubComponents } = this.state;\n\n    if (this.isEmpty()) {\n      return this.renderEmpty();\n    }\n\n    if (this.isNotComputed()) {\n      return this.renderWhenNotComputed();\n    }\n\n    return (\n      <div>\n        <div className=\"portfolio-boxes\">\n          <ReleasabilityBox component={component.key} measures={measures!} />\n          <ReliabilityBox component={component.key} measures={measures!} />\n          <SecurityBox component={component.key} measures={measures!} />\n          <MaintainabilityBox component={component.key} measures={measures!} />\n        </div>\n\n        {subComponents !== undefined &&\n        totalSubComponents !== undefined && (\n          <WorstProjects\n            component={component.key}\n            subComponents={subComponents}\n            total={totalSubComponents}\n          />\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    const { component } = this.props;\n    const { loading, measures } = this.state;\n\n    if (loading) {\n      return this.renderSpinner();\n    }\n\n    return (\n      <div className=\"page page-limited\">\n        <div className=\"page-with-sidebar\">\n          <div className=\"page-main\">{this.renderMain()}</div>\n\n          <aside className=\"page-sidebar-fixed\">\n            {!this.isEmpty() &&\n            !this.isNotComputed() && <Summary component={component} measures={measures!} />}\n            <Activity component={component.key} />\n            <Report component={component} />\n          </aside>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport { chunk, flatMap, groupBy, isEqual, sortBy } from 'lodash';\nimport {\n  cleanQuery,\n  parseAsArray,\n  parseAsDate,\n  parseAsString,\n  serializeStringArray,\n  serializeDate,\n  serializeString\n} from '../../helpers/query';\nimport { parseDate, startOfDay } from '../../helpers/dates';\nimport { getLocalizedMetricName, translate } from '../../helpers/l10n';\n/*:: import type { Analysis, MeasureHistory, Metric, Query } from './types'; */\n/*:: import type { RawQuery } from '../../helpers/query'; */\n/*:: import type { Serie } from '../../components/charts/AdvancedTimeline'; */\n\nexport const EVENT_TYPES = ['VERSION', 'QUALITY_GATE', 'QUALITY_PROFILE', 'OTHER'];\nexport const APPLICATION_EVENT_TYPES = ['QUALITY_GATE', 'OTHER'];\nexport const DEFAULT_GRAPH = 'issues';\nexport const GRAPH_TYPES = ['issues', 'coverage', 'duplications', 'custom'];\nexport const GRAPHS_METRICS_DISPLAYED = {\n  issues: ['bugs', 'code_smells', 'vulnerabilities'],\n  coverage: ['lines_to_cover', 'uncovered_lines'],\n  duplications: ['ncloc', 'duplicated_lines']\n};\nexport const GRAPHS_METRICS = {\n  issues: GRAPHS_METRICS_DISPLAYED['issues'].concat([\n    'reliability_rating',\n    'security_rating',\n    'sqale_rating'\n  ]),\n  coverage: GRAPHS_METRICS_DISPLAYED['coverage'].concat(['coverage']),\n  duplications: GRAPHS_METRICS_DISPLAYED['duplications'].concat(['duplicated_lines_density'])\n};\n\nexport const datesQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.from, nextQuery.from) || !isEqual(prevQuery.to, nextQuery.to);\n\nexport const activityQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  prevQuery.category !== nextQuery.category || datesQueryChanged(prevQuery, nextQuery);\n\nexport const customMetricsChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.customMetrics, nextQuery.customMetrics);\n\nexport const hasDataValues = (serie /*: Serie */) =>\n  serie.data.some(point => point.y || point.y === 0);\n\nexport const hasHistoryData = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1);\n\nexport const hasHistoryDataValue = (series /*: Array<Serie> */) =>\n  series.some(serie => serie.data && serie.data.length > 1 && hasDataValues(serie));\n\nexport function historyQueryChanged(prevQuery /*: Query */, nextQuery /*: Query */) /*: boolean */ {\n  return prevQuery.graph !== nextQuery.graph;\n}\n\nexport const isCustomGraph = (graph /*: string */) => graph === 'custom';\n\nexport const selectedDateQueryChanged = (prevQuery /*: Query */, nextQuery /*: Query */) =>\n  !isEqual(prevQuery.selectedDate, nextQuery.selectedDate);\n\nexport const generateCoveredLinesMetric = (\n  uncoveredLines /*: MeasureHistory */,\n  measuresHistory /*: Array<MeasureHistory> */\n) => {\n  const linesToCover = measuresHistory.find(measure => measure.metric === 'lines_to_cover');\n  return {\n    data: linesToCover\n      ? uncoveredLines.history.map((analysis, idx) => ({\n          x: analysis.date,\n          y: Number(linesToCover.history[idx].value) - Number(analysis.value)\n        }))\n      : [],\n    name: 'covered_lines',\n    translatedName: translate('project_activity.custom_metric.covered_lines'),\n    type: 'INT'\n  };\n};\n\nexport function generateSeries(\n  measuresHistory /*: Array<MeasureHistory> */,\n  graph /*: string */,\n  metrics /*: Array<Metric> */,\n  displayedMetrics /*: Array<string> */\n) /*: Array<Serie> */ {\n  if (displayedMetrics.length <= 0) {\n    return [];\n  }\n  return sortBy(\n    measuresHistory\n      .filter(measure => displayedMetrics.indexOf(measure.metric) >= 0)\n      .map(measure => {\n        if (measure.metric === 'uncovered_lines' && !isCustomGraph(graph)) {\n          return generateCoveredLinesMetric(measure, measuresHistory);\n        }\n        const metric = metrics.find(metric => metric.key === measure.metric);\n        return {\n          data: measure.history.map(analysis => ({\n            x: analysis.date,\n            y: metric && metric.type === 'LEVEL' ? analysis.value : Number(analysis.value)\n          })),\n          name: measure.metric,\n          translatedName: metric ? getLocalizedMetricName(metric) : measure.metric,\n          type: metric ? metric.type : 'INT'\n        };\n      }),\n    serie =>\n      displayedMetrics.indexOf(serie.name === 'covered_lines' ? 'uncovered_lines' : serie.name)\n  );\n}\n\nexport const splitSeriesInGraphs = (\n  series /*: Array<Serie> */,\n  maxGraph /*: number */,\n  maxSeries /*: number */\n) =>\n  flatMap(groupBy(series, serie => serie.type), type => chunk(type, maxSeries)).slice(0, maxGraph);\n\nexport const getSeriesMetricType = (series /*: Array<Serie> */) =>\n  series.length > 0 ? series[0].type : 'INT';\n\nexport function getAnalysesByVersionByDay(analyses /*: Array<Analysis> */, query /*: Query */) {\n  return analyses.reduce((acc, analysis) => {\n    let currentVersion = acc[acc.length - 1];\n    const versionEvent = analysis.events.find(event => event.category === 'VERSION');\n    if (versionEvent) {\n      const newVersion = { version: versionEvent.name, key: versionEvent.key, byDay: {} };\n      if (!currentVersion || Object.keys(currentVersion.byDay).length > 0) {\n        acc.push(newVersion);\n      } else {\n        acc[acc.length - 1] = newVersion;\n      }\n      currentVersion = newVersion;\n    } else if (!currentVersion) {\n      // APPs don't have version events, so let's create a fake one\n      currentVersion = { version: null, key: null, byDay: {} };\n      acc.push(currentVersion);\n    }\n\n    const day = startOfDay(parseDate(analysis.date))\n      .getTime()\n      .toString();\n\n    let matchFilters = true;\n    if (query.category || query.from || query.to) {\n      const isAfterFrom = !query.from || analysis.date >= query.from;\n      const isBeforeTo = !query.to || analysis.date <= query.to;\n      const hasSelectedCategoryEvents =\n        !query.category || analysis.events.find(event => event.category === query.category) != null;\n      matchFilters = isAfterFrom && isBeforeTo && hasSelectedCategoryEvents;\n    }\n\n    if (matchFilters) {\n      if (!currentVersion.byDay[day]) {\n        currentVersion.byDay[day] = [];\n      }\n      currentVersion.byDay[day].push(analysis);\n    }\n    return acc;\n  }, []);\n}\n\nexport const getDisplayedHistoryMetrics = (\n  graph /*: string */,\n  customMetrics /*: Array<string> */\n) => (isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS_DISPLAYED[graph]);\n\nexport const getHistoryMetrics = (graph /*: string */, customMetrics /*: Array<string> */) =>\n  isCustomGraph(graph) ? customMetrics : GRAPHS_METRICS[graph];\n\nconst parseGraph = (value /*: ?string */) => {\n  const graph = parseAsString(value);\n  return GRAPH_TYPES.includes(graph) ? graph : DEFAULT_GRAPH;\n};\n\nconst serializeGraph = (value /*: string */) => (value === DEFAULT_GRAPH ? undefined : value);\n\nexport function parseQuery(urlQuery /*: RawQuery */) /*: Query */ {\n  return {\n    category: parseAsString(urlQuery['category']),\n    customMetrics: parseAsArray(urlQuery['custom_metrics'], parseAsString),\n    from: parseAsDate(urlQuery['from']),\n    graph: parseGraph(urlQuery['graph']),\n    project: parseAsString(urlQuery['id']),\n    to: parseAsDate(urlQuery['to']),\n    selectedDate: parseAsDate(urlQuery['selected_date'])\n  };\n}\n\nexport function serializeQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    from: serializeDate(query.from),\n    project: serializeString(query.project),\n    to: serializeDate(query.to)\n  });\n}\n\nexport function serializeUrlQuery(query /*: Query */) /*: RawQuery */ {\n  return cleanQuery({\n    category: serializeString(query.category),\n    custom_metrics: serializeStringArray(query.customMetrics),\n    from: serializeDate(query.from),\n    graph: serializeGraph(query.graph),\n    id: serializeString(query.project),\n    to: serializeDate(query.to),\n    selected_date: serializeDate(query.selectedDate)\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectActivity/utils.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON } from '../helpers/request';\n\ninterface TimeMachineResponse {\n  measures: Array<{\n    metric: string;\n    history: Array<{ date: string; value: string }>;\n  }>;\n  paging: { pageIndex: number; pageSize: number; total: number };\n}\n\nexport function getTimeMachineData(\n  component: string,\n  metrics: string[],\n  other?: { p?: number; ps?: number; from?: string; to?: string }\n): Promise<TimeMachineResponse> {\n  return getJSON('/api/measures/search_history', {\n    component,\n    metrics: metrics.join(),\n    ps: 1000,\n    ...other\n  });\n}\n\nexport function getAllTimeMachineData(\n  component: string,\n  metrics: Array<string>,\n  other?: { p?: number; from?: string; to?: string },\n  prev?: TimeMachineResponse\n): Promise<TimeMachineResponse> {\n  return getTimeMachineData(component, metrics, { ...other, ps: 1000 }).then(r => {\n    const result = prev\n      ? {\n          measures: prev.measures.map((measure, idx) => ({\n            ...measure,\n            history: measure.history.concat(r.measures[idx].history)\n          })),\n          paging: r.paging\n        }\n      : r;\n\n    if (result.paging.pageIndex * result.paging.pageSize >= result.paging.total) {\n      return result;\n    }\n    return getAllTimeMachineData(\n      component,\n      metrics,\n      { ...other, p: result.paging.pageIndex + 1 },\n      result\n    );\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/time-machine.ts","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { max } from 'd3-array';\nimport { scaleLinear, scaleBand, ScaleLinear, ScaleBand } from 'd3-scale';\nimport Tooltip from '../controls/Tooltip';\n\ninterface Props {\n  alignTicks?: boolean;\n  bars: number[];\n  height: number;\n  padding?: [number, number, number, number];\n  yTicks?: string[];\n  yTooltips?: string[];\n  yValues?: string[];\n  width: number;\n}\n\nconst BAR_HEIGHT = 10;\nconst DEFAULT_PADDING = [10, 10, 10, 10];\n\ntype XScale = ScaleLinear<number, number>;\ntype YScale = ScaleBand<number>;\n\nexport default class Histogram extends React.PureComponent<Props> {\n  wrapWithTooltip(element: React.ReactNode, index: number) {\n    const tooltip = this.props.yTooltips && this.props.yTooltips[index];\n    return tooltip ? (\n      <Tooltip key={index} overlay={tooltip} placement=\"top\">\n        {element}\n      </Tooltip>\n    ) : (\n      element\n    );\n  }\n\n  renderBar(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING } = this.props;\n\n    const width = Math.round(xScale(d)) + /* minimum bar width */ 1;\n    const x = xScale.range()[0] + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2);\n\n    return <rect className=\"bar-chart-bar\" x={x} y={y} width={width} height={BAR_HEIGHT} />;\n  }\n\n  renderValue(d: number, index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, padding = DEFAULT_PADDING, yValues } = this.props;\n\n    const value = yValues && yValues[index];\n\n    if (!value) {\n      return null;\n    }\n\n    const x = xScale(d) + (alignTicks ? padding[3] : 0);\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n\n    return this.wrapWithTooltip(\n      <text className=\"bar-chart-tick histogram-value\" x={x} y={y} dx=\"1em\" dy=\"0.3em\">\n        {value}\n      </text>,\n      index\n    );\n  }\n\n  renderTick(index: number, xScale: XScale, yScale: YScale) {\n    const { alignTicks, yTicks } = this.props;\n\n    const tick = yTicks && yTicks[index];\n\n    if (!tick) {\n      return null;\n    }\n\n    const x = xScale.range()[0];\n    const y = Math.round(yScale(index)! + yScale.bandwidth() / 2 + BAR_HEIGHT / 2);\n    const historyTickClass = alignTicks ? 'histogram-tick-start' : 'histogram-tick';\n\n    return (\n      <text\n        className={'bar-chart-tick ' + historyTickClass}\n        x={x}\n        y={y}\n        dx={alignTicks ? 0 : '-1em'}\n        dy=\"0.3em\">\n        {tick}\n      </text>\n    );\n  }\n\n  renderBars(xScale: XScale, yScale: YScale) {\n    return (\n      <g>\n        {this.props.bars.map((d, index) => {\n          return (\n            <g key={index}>\n              {this.renderBar(d, index, xScale, yScale)}\n              {this.renderValue(d, index, xScale, yScale)}\n              {this.renderTick(index, xScale, yScale)}\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n\n  render() {\n    const { bars, width, height, padding = DEFAULT_PADDING } = this.props;\n\n    const availableWidth = width - padding[1] - padding[3];\n    const xScale: XScale = scaleLinear()\n      .domain([0, max(bars)!])\n      .range([0, availableWidth]);\n\n    const availableHeight = height - padding[0] - padding[2];\n    const yScale: YScale = scaleBand<number>()\n      .domain(bars.map((_, index) => index))\n      .rangeRound([0, availableHeight]);\n\n    return (\n      <svg className=\"bar-chart\" width={this.props.width} height={this.props.height}>\n        <g transform={`translate(${this.props.alignTicks ? 4 : padding[3]}, ${padding[0]})`}>\n          {this.renderBars(xScale, yScale)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/Histogram.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { find, sortBy } from 'lodash';\nimport Histogram from './Histogram';\nimport { formatMeasure } from '../../helpers/measures';\nimport { Language } from '../../api/languages';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  alignTicks?: boolean;\n  distribution: string;\n  languages?: Language[];\n  width: number;\n}\n\nexport default function LanguageDistribution(props: Props) {\n  let distribution = props.distribution.split(';').map(point => {\n    const tokens = point.split('=');\n    return { language: tokens[0], lines: parseInt(tokens[1], 10) };\n  });\n\n  distribution = sortBy(distribution, d => -d.lines);\n\n  const data = distribution.map(d => d.lines);\n  const yTicks = distribution.map(d => getLanguageName(d.language)).map(cutLanguageName);\n  const yTooltips = distribution.map(d => (d.lines > 1000 ? formatMeasure(d.lines, 'INT') : ''));\n  const yValues = distribution.map(d => formatMeasure(d.lines, 'SHORT_INT'));\n\n  return (\n    <Histogram\n      alignTicks={props.alignTicks}\n      bars={data}\n      height={distribution.length * 25}\n      padding={[0, 60, 0, 80]}\n      yTicks={yTicks}\n      yTooltips={yTooltips}\n      yValues={yValues}\n      width={props.width}\n    />\n  );\n\n  function getLanguageName(langKey: string) {\n    if (langKey === '<null>') {\n      return translate('unknown');\n    }\n    const lang = find(props.languages, { key: langKey });\n    return lang ? lang.name : langKey;\n  }\n}\n\nfunction cutLanguageName(name: string) {\n  return name.length > 10 ? `${name.substr(0, 7)}...` : name;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistribution.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport { getLanguages } from '../../store/rootReducer';\nimport LanguageDistribution from './LanguageDistribution';\n\nconst mapStateToProps = (state: any) => ({\n  languages: getLanguages(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(LanguageDistribution);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/LanguageDistributionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport classNames from 'classnames';\nimport { flatten, isEqual, sortBy, throttle, uniq } from 'lodash';\nimport { bisector, extent, max } from 'd3-array';\nimport { scaleLinear, scalePoint, scaleTime } from 'd3-scale';\nimport { line as d3Line, area, curveBasis } from 'd3-shape';\n\n/*::\ntype Event = { className?: string, name: string, date: Date };\n*/\n/*::\nexport type Point = { x: Date, y: number | string };\n*/\n/*::\nexport type Serie = { name: string, data: Array<Point>, type: string };\n*/\n/*::\ntype Scale = Function;\n*/\n\n/*::\ntype Props = {\n  basisCurve?: boolean,\n  endDate: ?Date,\n  events?: Array<Event>,\n  eventSize?: number,\n  disableZoom?: boolean,\n  formatYTick?: number => string,\n  hideGrid?: boolean,\n  hideXAxis?: boolean,\n  height: number,\n  width: number,\n  leakPeriodDate?: Date,\n  // used to avoid same y ticks labels\n  maxYTicksCount?: number,\n  metricType: string,\n  padding: Array<number>,\n  selectedDate?: Date,\n  series: Array<Serie>,\n  showAreas?: boolean,\n  showEventMarkers?: boolean,\n  startDate: ?Date,\n  updateSelectedDate?: (selectedDate: ?Date) => void,\n  updateTooltip?: (selectedDate: ?Date, tooltipXPos: ?number, tooltipIdx: ?number) => void,\n  updateZoom?: (start: ?Date, endDate: ?Date) => void,\n  zoomSpeed: number\n};\n*/\n\n/*::\ntype State = {\n  maxXRange: Array<number>,\n  mouseOver?: boolean,\n  mouseOverlayPos?: { [string]: number },\n  selectedDate: ?Date,\n  selectedDateXPos: ?number,\n  selectedDateIdx: ?number,\n  yScale: Scale,\n  xScale: Scale\n};\n*/\n\nexport default class AdvancedTimeline extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static defaultProps = {\n    eventSize: 8,\n    maxYTicksCount: 4,\n    padding: [10, 10, 30, 60],\n    zoomSpeed: 1\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const scales = this.getScales(props);\n    const selectedDatePos = this.getSelectedDatePos(scales.xScale, props.selectedDate);\n    this.state = { ...scales, ...selectedDatePos };\n    this.updateTooltipPos = throttle(this.updateTooltipPos, 40);\n    this.handleZoomUpdate = throttle(this.handleZoomUpdate, 40);\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    let scales;\n    let selectedDatePos;\n    if (\n      nextProps.metricType !== this.props.metricType ||\n      nextProps.startDate !== this.props.startDate ||\n      nextProps.endDate !== this.props.endDate ||\n      nextProps.width !== this.props.width ||\n      nextProps.padding !== this.props.padding ||\n      nextProps.height !== this.props.height ||\n      nextProps.series !== this.props.series\n    ) {\n      scales = this.getScales(nextProps);\n      if (this.state.selectedDate != null) {\n        selectedDatePos = this.getSelectedDatePos(scales.xScale, this.state.selectedDate);\n      }\n    }\n\n    if (!isEqual(nextProps.selectedDate, this.props.selectedDate)) {\n      const xScale = scales ? scales.xScale : this.state.xScale;\n      selectedDatePos = this.getSelectedDatePos(xScale, nextProps.selectedDate);\n    }\n\n    if (scales || selectedDatePos) {\n      this.setState({ ...(scales || {}), ...(selectedDatePos || {}) });\n\n      if (selectedDatePos && nextProps.updateTooltip) {\n        nextProps.updateTooltip(\n          selectedDatePos.selectedDate,\n          selectedDatePos.selectedDateXPos,\n          selectedDatePos.selectedDateIdx\n        );\n      }\n    }\n  }\n\n  getRatingScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain([5, 4, 3, 2, 1])\n      .range([availableHeight, 0]);\n\n  getLevelScale = (availableHeight /*: number */) =>\n    scalePoint()\n      .domain(['ERROR', 'WARN', 'OK'])\n      .range([availableHeight, 0]);\n\n  getYScale = (props /*: Props */, availableHeight /*: number */, flatData /*: Array<Point> */) => {\n    if (props.metricType === 'RATING') {\n      return this.getRatingScale(availableHeight);\n    } else if (props.metricType === 'LEVEL') {\n      return this.getLevelScale(availableHeight);\n    } else {\n      return scaleLinear()\n        .range([availableHeight, 0])\n        .domain([0, max(flatData, d => d.y) || 1])\n        .nice();\n    }\n  };\n\n  getXScale = (\n    { startDate, endDate } /*: Props */,\n    availableWidth /*: number */,\n    flatData /*: Array<Point> */\n  ) => {\n    const dateRange = extent(flatData, d => d.x);\n    const start = startDate && startDate > dateRange[0] ? startDate : dateRange[0];\n    const end = endDate && endDate < dateRange[1] ? endDate : dateRange[1];\n    const xScale = scaleTime()\n      .domain(sortBy([start, end]))\n      .range([0, availableWidth])\n      .clamp(false);\n    return {\n      xScale,\n      maxXRange: dateRange.map(xScale)\n    };\n  };\n\n  getScales = (props /*: Props */) => {\n    const availableWidth = props.width - props.padding[1] - props.padding[3];\n    const availableHeight = props.height - props.padding[0] - props.padding[2];\n    const flatData = flatten(props.series.map((serie /*: Serie */) => serie.data));\n    return {\n      ...this.getXScale(props, availableWidth, flatData),\n      yScale: this.getYScale(props, availableHeight, flatData)\n    };\n  };\n\n  getSelectedDatePos = (xScale /*: Scale */, selectedDate /*: ?Date */) => {\n    const firstSerie = this.props.series[0];\n    if (selectedDate && firstSerie) {\n      const idx = firstSerie.data.findIndex(\n        // $FlowFixMe selectedDate can't be null there\n        p => p.x.valueOf() === selectedDate.valueOf()\n      );\n      const xRange = xScale.range().sort();\n      const xPos = xScale(selectedDate);\n      if (idx >= 0 && xPos >= xRange[0] && xPos <= xRange[1]) {\n        return {\n          selectedDate,\n          selectedDateXPos: xScale(selectedDate),\n          selectedDateIdx: idx\n        };\n      }\n    }\n    return { selectedDate: null, selectedDateXPos: null, selectedDateIdx: null };\n  };\n\n  getEventMarker = (size /*: number */) => {\n    const half = size / 2;\n    return `M${half} 0 L${size} ${half} L ${half} ${size} L0 ${half} L${half} 0 L${size} ${half}`;\n  };\n\n  getMouseOverlayPos = (target /*: HTMLElement */) => {\n    if (this.state.mouseOverlayPos) {\n      return this.state.mouseOverlayPos;\n    }\n    const pos = target.getBoundingClientRect();\n    this.setState({ mouseOverlayPos: pos });\n    return pos;\n  };\n\n  handleWheel = (evt /*: WheelEvent & { target: HTMLElement } */) => {\n    evt.preventDefault();\n    const { maxXRange, xScale } = this.state;\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    const mouseXPos = (evt.pageX - parentBbox.left) / parentBbox.width;\n    const xRange = xScale.range();\n    const speed = evt.deltaMode ? 25 / evt.deltaMode * this.props.zoomSpeed : this.props.zoomSpeed;\n    const leftPos = xRange[0] - Math.round(speed * evt.deltaY * mouseXPos);\n    const rightPos = xRange[1] + Math.round(speed * evt.deltaY * (1 - mouseXPos));\n    const startDate = leftPos > maxXRange[0] ? xScale.invert(leftPos) : null;\n    const endDate = rightPos < maxXRange[1] ? xScale.invert(rightPos) : null;\n    this.handleZoomUpdate(startDate, endDate);\n  };\n\n  handleZoomUpdate = (startDate /*: ?Date */, endDate /*: ?Date */) => {\n    if (this.props.updateZoom) {\n      this.props.updateZoom(startDate, endDate);\n    }\n  };\n\n  handleMouseMove = (evt /*: MouseEvent & { target: HTMLElement } */) => {\n    const parentBbox = this.getMouseOverlayPos(evt.target);\n    this.updateTooltipPos(evt.pageX - parentBbox.left);\n  };\n\n  handleMouseEnter = () => this.setState({ mouseOver: true });\n\n  handleMouseOut = (evt /*: Event & { relatedTarget: HTMLElement } */) => {\n    const { updateTooltip } = this.props;\n    const targetClass =\n      evt.relatedTarget && typeof evt.relatedTarget.className === 'string'\n        ? evt.relatedTarget.className\n        : '';\n    if (\n      !updateTooltip ||\n      targetClass.includes('bubble-popup') ||\n      targetClass.includes('graph-tooltip')\n    ) {\n      return;\n    }\n    this.setState({\n      mouseOver: false,\n      selectedDate: null,\n      selectedDateXPos: null,\n      selectedDateIdx: null\n    });\n    updateTooltip(null, null, null);\n  };\n\n  handleClick = () => {\n    const { updateSelectedDate } = this.props;\n    if (updateSelectedDate) {\n      updateSelectedDate(this.state.selectedDate);\n    }\n  };\n\n  updateTooltipPos = (xPos /*: number */) => {\n    const firstSerie = this.props.series[0];\n    if (this.state.mouseOver && firstSerie) {\n      const { updateTooltip } = this.props;\n      const date = this.state.xScale.invert(xPos);\n      const bisectX = bisector(d => d.x).right;\n      let idx = bisectX(firstSerie.data, date);\n      if (idx >= 0) {\n        const previousPoint = firstSerie.data[idx - 1];\n        const nextPoint = firstSerie.data[idx];\n        if (!nextPoint || (previousPoint && date - previousPoint.x <= nextPoint.x - date)) {\n          idx--;\n        }\n        const selectedDate = firstSerie.data[idx].x;\n        const xPos = this.state.xScale(selectedDate);\n        this.setState({ selectedDate, selectedDateXPos: xPos, selectedDateIdx: idx });\n        if (updateTooltip) {\n          updateTooltip(selectedDate, xPos, idx);\n        }\n      }\n    }\n  };\n\n  renderHorizontalGrid = () => {\n    const { formatYTick } = this.props;\n    const { xScale, yScale } = this.state;\n    const hasTicks = typeof yScale.ticks === 'function';\n    let ticks = hasTicks ? yScale.ticks(this.props.maxYTicksCount) : yScale.domain();\n\n    if (!ticks.length) {\n      ticks.push(yScale.domain()[1]);\n    }\n\n    // if there are duplicated ticks, that means 4 ticks are too much for this data\n    // so let's just use the domain values (min and max)\n    if (formatYTick) {\n      const formattedTicks = ticks.map(tick => formatYTick(tick));\n      if (ticks.length > uniq(formattedTicks).length) {\n        ticks = yScale.domain();\n      }\n    }\n\n    return (\n      <g>\n        {ticks.map(tick => (\n          <g key={tick}>\n            {formatYTick != null && (\n              <text\n                className=\"line-chart-tick line-chart-tick-x\"\n                dx=\"-1em\"\n                dy=\"0.3em\"\n                textAnchor=\"end\"\n                x={xScale.range()[0]}\n                y={yScale(tick)}>\n                {formatYTick(tick)}\n              </text>\n            )}\n            <line\n              className=\"line-chart-grid\"\n              x1={xScale.range()[0]}\n              x2={xScale.range()[1]}\n              y1={yScale(tick)}\n              y2={yScale(tick)}\n            />\n          </g>\n        ))}\n      </g>\n    );\n  };\n\n  renderXAxisTicks = () => {\n    const { xScale, yScale } = this.state;\n    const format = xScale.tickFormat(7);\n    const ticks = xScale.ticks(7);\n    const y = yScale.range()[0];\n    return (\n      <g>\n        {ticks.slice(0, -1).map((tick, index) => {\n          const nextTick = index + 1 < ticks.length ? ticks[index + 1] : xScale.domain()[1];\n          const x = (xScale(tick) + xScale(nextTick)) / 2;\n          return (\n            <text key={index} className=\"line-chart-tick\" x={x} y={y} dy=\"1.5em\">\n              {format(tick)}\n            </text>\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderLeak = () => {\n    const yRange = this.state.yScale.range();\n    const xRange = this.state.xScale.range();\n    const leakWidth = xRange[xRange.length - 1] - this.state.xScale(this.props.leakPeriodDate);\n    if (leakWidth < 0) {\n      return null;\n    }\n    return (\n      <rect\n        className=\"leak-chart-rect\"\n        x={this.state.xScale(this.props.leakPeriodDate)}\n        y={yRange[yRange.length - 1]}\n        width={leakWidth}\n        height={yRange[0] - yRange[yRange.length - 1]}\n        fill=\"#fbf3d5\"\n      />\n    );\n  };\n\n  renderLines = () => {\n    const lineGenerator = d3Line()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y(d => this.state.yScale(d.y));\n    if (this.props.basisCurve) {\n      lineGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-path', 'line-chart-path-' + idx)}\n            d={lineGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderAreas = () => {\n    const areaGenerator = area()\n      .defined(d => d.y || d.y === 0)\n      .x(d => this.state.xScale(d.x))\n      .y1(d => this.state.yScale(d.y))\n      .y0(this.state.yScale(0));\n    if (this.props.basisCurve) {\n      areaGenerator.curve(curveBasis);\n    }\n    return (\n      <g>\n        {this.props.series.map((serie, idx) => (\n          <path\n            key={serie.name}\n            className={classNames('line-chart-area', 'line-chart-area-' + idx)}\n            d={areaGenerator(serie.data)}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderEvents = () => {\n    const { events, eventSize } = this.props;\n    if (!events || !eventSize) {\n      return null;\n    }\n    const { xScale, yScale } = this.state;\n    const inRangeEvents = events.filter(\n      event => event.date >= xScale.domain()[0] && event.date <= xScale.domain()[1]\n    );\n    const offset = eventSize / 2;\n    return (\n      <g>\n        {inRangeEvents.map((event, idx) => (\n          <path\n            d={this.getEventMarker(eventSize)}\n            className={classNames('line-chart-event', event.className)}\n            key={`${idx}-${event.date.getTime()}`}\n            transform={`translate(${xScale(event.date) - offset}, ${yScale.range()[0] + offset})`}\n          />\n        ))}\n      </g>\n    );\n  };\n\n  renderSelectedDate = () => {\n    const { selectedDateIdx, selectedDateXPos, yScale } = this.state;\n    const firstSerie = this.props.series[0];\n    if (selectedDateIdx == null || selectedDateXPos == null || !firstSerie) {\n      return null;\n    }\n\n    return (\n      <g>\n        <line\n          className=\"line-tooltip\"\n          x1={selectedDateXPos}\n          x2={selectedDateXPos}\n          y1={yScale.range()[0]}\n          y2={yScale.range()[1]}\n        />\n        {this.props.series.map((serie, idx) => {\n          const point = serie.data[selectedDateIdx];\n          if (!point || (!point.y && point.y !== 0)) {\n            return null;\n          }\n          return (\n            <circle\n              key={serie.name}\n              cx={selectedDateXPos}\n              cy={yScale(point.y)}\n              r=\"4\"\n              className={classNames('line-chart-dot', 'line-chart-dot-' + idx)}\n            />\n          );\n        })}\n      </g>\n    );\n  };\n\n  renderClipPath = () => {\n    return (\n      <defs>\n        <clipPath id=\"chart-clip\">\n          <rect\n            width={this.state.xScale.range()[1]}\n            height={this.state.yScale.range()[0] + 10}\n            transform=\"translate(0,-5)\"\n          />\n        </clipPath>\n      </defs>\n    );\n  };\n\n  renderMouseEventsOverlay = (zoomEnabled /*: boolean */) => {\n    const mouseEvents = {};\n    if (zoomEnabled) {\n      mouseEvents.onWheel = this.handleWheel;\n    }\n    if (this.props.updateTooltip) {\n      mouseEvents.onMouseEnter = this.handleMouseEnter;\n      mouseEvents.onMouseMove = this.handleMouseMove;\n      mouseEvents.onMouseOut = this.handleMouseOut;\n    }\n    if (this.props.updateSelectedDate) {\n      mouseEvents.onClick = this.handleClick;\n    }\n    return (\n      <rect\n        className=\"chart-mouse-events-overlay\"\n        width={this.state.xScale.range()[1]}\n        height={this.state.yScale.range()[0]}\n        {...mouseEvents}\n      />\n    );\n  };\n\n  render() {\n    if (!this.props.width || !this.props.height) {\n      return <div />;\n    }\n    const zoomEnabled = !this.props.disableZoom && this.props.updateZoom != null;\n    const isZoomed = this.props.startDate || this.props.endDate;\n    return (\n      <svg\n        className={classNames('line-chart', { 'chart-zoomed': isZoomed })}\n        width={this.props.width}\n        height={this.props.height}>\n        {zoomEnabled && this.renderClipPath()}\n        <g transform={`translate(${this.props.padding[3]}, ${this.props.padding[0]})`}>\n          {this.props.leakPeriodDate != null && this.renderLeak()}\n          {!this.props.hideGrid && this.renderHorizontalGrid()}\n          {!this.props.hideXAxis && this.renderXAxisTicks()}\n          {this.props.showAreas && this.renderAreas()}\n          {this.renderLines()}\n          {this.props.showEventMarkers && this.renderEvents()}\n          {this.renderSelectedDate()}\n          {this.renderMouseEventsOverlay(zoomEnabled)}\n        </g>\n      </svg>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/charts/AdvancedTimeline.js","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport DateFromNow from '../../../components/intl/DateFromNow';\nimport Rating from '../../../components/ui/Rating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  lastChange?: string;\n}\n\nexport default function RatingFreshness({ lastChange }: Props) {\n  if (!lastChange) {\n    return <div className=\"portfolio-freshness\">&nbsp;</div>;\n  }\n\n  const data = JSON.parse(lastChange);\n\n  return (\n    <div className=\"portfolio-freshness\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.was_x_y')}\n        id=\"portfolio.was_x_y\"\n        values={{\n          rating: <Rating value={data.value} small={true} />,\n          date: <DateFromNow date={data.date} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/RatingFreshness.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { FormattedMessage } from 'react-intl';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  effort: { projects: number; rating: number };\n  metricKey: string;\n}\n\nexport default function Effort({ component, effort, metricKey }: Props) {\n  return (\n    <div className=\"portfolio-effort\">\n      <FormattedMessage\n        defaultMessage={translate('portfolio.x_in_y')}\n        id=\"portfolio.x_in_y\"\n        values={{\n          projects: (\n            <Link to={getComponentDrilldownUrl(component, metricKey)}>\n              <span>\n                <Measure\n                  measure={{\n                    metric: { key: 'projects', type: 'SHORT_INT' },\n                    value: String(effort.projects)\n                  }}\n                />{' '}\n                {translate('projects_')}\n              </span>\n            </Link>\n          ),\n          rating: <Rating small={true} value={effort.rating} />\n        }}\n      />\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Effort.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { HistoryIcon } from '../../../components/icons-components/icons';\nimport { getMeasureHistoryUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function HistoryButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small button-compact spacer-left text-text-bottom\"\n      to={getMeasureHistoryUrl(component, metric)}>\n      <HistoryIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/HistoryButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Rating from '../../../components/ui/Rating';\nimport { getMeasureTreemapUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n  value: string;\n}\n\nexport default function MainRating({ component, metric, value }: Props) {\n  return (\n    <Link to={getMeasureTreemapUrl(component, metric)} className=\"portfolio-box-rating\">\n      <Rating value={value} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MainRating.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport BubblesIcon from '../../../components/icons-components/BubblesIcon';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  metric: string;\n}\n\nexport default function MeasuresButtonLink({ component, metric }: Props) {\n  return (\n    <Link\n      className=\"button button-small button-compact spacer-left text-text-bottom\"\n      to={getComponentDrilldownUrl(component, metric)}>\n      <BubblesIcon size={14} />\n    </Link>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MeasuresButtonLink.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport { minBy } from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer';\nimport AdvancedTimeline from '../charts/AdvancedTimeline';\nimport PreviewGraphTooltips from './PreviewGraphTooltips';\nimport {\n  DEFAULT_GRAPH,\n  getDisplayedHistoryMetrics,\n  generateSeries,\n  getSeriesMetricType,\n  hasHistoryDataValue,\n  splitSeriesInGraphs\n} from '../../apps/projectActivity/utils';\nimport { getCustomGraph, getGraph } from '../../helpers/storage';\nimport { formatMeasure, getShortType } from '../../helpers/measures';\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n/*:: import type { History, Metric } from '../../apps/overview/types'; */\n\n/*::\ntype Props = {\n  branch?: string,\n  history: ?History,\n  metrics: Array<Metric>,\n  project: string,\n  renderWhenEmpty?: () => void\n};\n*/\n\n/*::\ntype State = {\n  customMetrics: Array<string>,\n  graph: string,\n  selectedDate: ?Date,\n  series: Array<Serie>,\n  tooltipIdx: ?number,\n  tooltipXPos: ?number\n};\n*/\n\nconst GRAPH_PADDING = [4, 0, 4, 0];\nconst MAX_GRAPH_NB = 1;\nconst MAX_SERIES_PER_GRAPH = 3;\n\nexport default class PreviewGraph extends React.PureComponent {\n  /*:: props: Props; */\n  /*:: state: State; */\n\n  static contextTypes = {\n    router: PropTypes.object\n  };\n\n  constructor(props /*: Props */) {\n    super(props);\n    const graph = getGraph();\n    const customMetrics = getCustomGraph();\n    const series = splitSeriesInGraphs(\n      this.getSeries(props.history, graph, customMetrics, props.metrics),\n      MAX_GRAPH_NB,\n      MAX_SERIES_PER_GRAPH\n    );\n    this.state = {\n      customMetrics,\n      graph,\n      selectedDate: null,\n      series: series.length > 0 ? series[0] : [],\n      tooltipIdx: null,\n      tooltipXPos: null\n    };\n  }\n\n  componentWillReceiveProps(nextProps /*: Props */) {\n    if (nextProps.history !== this.props.history || nextProps.metrics !== this.props.metrics) {\n      const graph = getGraph();\n      const customMetrics = getCustomGraph();\n      const series = splitSeriesInGraphs(\n        this.getSeries(nextProps.history, graph, customMetrics, nextProps.metrics),\n        MAX_GRAPH_NB,\n        MAX_SERIES_PER_GRAPH\n      );\n      this.setState({\n        customMetrics,\n        graph,\n        series: series.length > 0 ? series[0] : []\n      });\n    }\n  }\n\n  formatValue = (tick /*: number | string */) =>\n    formatMeasure(tick, getShortType(getSeriesMetricType(this.state.series)));\n\n  getDisplayedMetrics = (graph /*: string */, customMetrics /*: Array<string> */) => {\n    const metrics /*: Array<string> */ = getDisplayedHistoryMetrics(graph, customMetrics);\n    if (!metrics || metrics.length <= 0) {\n      return getDisplayedHistoryMetrics(DEFAULT_GRAPH, customMetrics);\n    }\n    return metrics;\n  };\n\n  getSeries = (\n    history /*: ?History */,\n    graph /*: string */,\n    customMetrics /*: Array<string> */,\n    metrics /*: Array<Metric> */\n  ) => {\n    const myHistory = history;\n    if (!myHistory) {\n      return [];\n    }\n    const displayedMetrics = this.getDisplayedMetrics(graph, customMetrics);\n    const firstValid = minBy(\n      displayedMetrics.map(metric => myHistory[metric].find(p => p.value || p.value === 0)),\n      'date'\n    );\n    const measureHistory = displayedMetrics.map(metric => ({\n      metric,\n      history: firstValid\n        ? myHistory[metric].filter(p => p.date >= firstValid.date)\n        : myHistory[metric]\n    }));\n    return generateSeries(measureHistory, graph, metrics, displayedMetrics);\n  };\n\n  handleClick = () => {\n    this.context.router.push({\n      pathname: '/project/activity',\n      query: { id: this.props.project, branch: this.props.branch }\n    });\n  };\n\n  updateTooltip = (\n    selectedDate /*: ?Date */,\n    tooltipXPos /*: ?number */,\n    tooltipIdx /*: ?number */\n  ) => this.setState({ selectedDate, tooltipXPos, tooltipIdx });\n\n  renderTimeline() {\n    const { graph, selectedDate, series, tooltipIdx, tooltipXPos } = this.state;\n    return (\n      <AutoSizer disableHeight={true}>\n        {({ width }) => (\n          <div>\n            <AdvancedTimeline\n              endDate={null}\n              startDate={null}\n              height={80}\n              width={width}\n              hideGrid={true}\n              hideXAxis={true}\n              interpolate=\"linear\"\n              metricType={getSeriesMetricType(series)}\n              padding={GRAPH_PADDING}\n              series={series}\n              showAreas={['coverage', 'duplications'].includes(graph)}\n              updateTooltip={this.updateTooltip}\n            />\n            {selectedDate != null &&\n            tooltipXPos != null &&\n            tooltipIdx != null && (\n              <PreviewGraphTooltips\n                formatValue={this.formatValue}\n                graph={graph}\n                graphWidth={width}\n                metrics={this.props.metrics}\n                selectedDate={selectedDate}\n                series={series}\n                tooltipIdx={tooltipIdx}\n                tooltipPos={tooltipXPos}\n              />\n            )}\n          </div>\n        )}\n      </AutoSizer>\n    );\n  }\n\n  render() {\n    const { series } = this.state;\n    if (!hasHistoryDataValue(series)) {\n      return this.props.renderWhenEmpty ? this.props.renderWhenEmpty() : null;\n    }\n\n    return (\n      <div\n        className=\"overview-analysis-graph big-spacer-bottom spacer-top\"\n        onClick={this.handleClick}\n        tabIndex={0}\n        role=\"link\">\n        {this.renderTimeline()}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraph.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport React from 'react';\nimport BubblePopup from '../common/BubblePopup';\nimport DateFormatter from '../intl/DateFormatter';\nimport PreviewGraphTooltipsContent from './PreviewGraphTooltipsContent';\n/*:: import type { Metric } from '../types'; */\n/*:: import type { Serie } from '../charts/AdvancedTimeline'; */\n\n/*::\ntype Props = {\n  formatValue: (number | string) => string,\n  graph: string,\n  graphWidth: number,\n  metrics: Array<Metric>,\n  selectedDate: Date,\n  series: Array<Serie & { translatedName: string }>,\n  tooltipIdx: number,\n  tooltipPos: number\n};\n*/\n\nconst TOOLTIP_WIDTH = 160;\n\nexport default class PreviewGraphTooltips extends React.PureComponent {\n  /*:: props: Props; */\n\n  render() {\n    const { tooltipIdx } = this.props;\n    const top = 16;\n    let left = this.props.tooltipPos;\n    let customClass;\n    if (left > this.props.graphWidth - TOOLTIP_WIDTH) {\n      left -= TOOLTIP_WIDTH;\n      customClass = 'bubble-popup-right';\n    }\n\n    return (\n      <BubblePopup customClass={customClass} position={{ top, left, width: TOOLTIP_WIDTH }}>\n        <div className=\"overview-analysis-graph-tooltip\">\n          <div className=\"overview-analysis-graph-tooltip-title\">\n            <DateFormatter date={this.props.selectedDate} long={true} />\n          </div>\n          <table className=\"width-100\">\n            <tbody>\n              {this.props.series.map((serie, idx) => {\n                const point = serie.data[tooltipIdx];\n                if (!point || (!point.y && point.y !== 0)) {\n                  return null;\n                }\n                return (\n                  <PreviewGraphTooltipsContent\n                    key={serie.name}\n                    style={idx.toString()}\n                    translatedName={serie.translatedName}\n                    value={this.props.formatValue(point.y)}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      </BubblePopup>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltips.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport ChartLegendIcon from '../icons-components/ChartLegendIcon';\n\n/*::\ntype Props = {\n  style: string,\n  translatedName: string,\n  value: string\n};\n*/\n\nexport default function PreviewGraphTooltipsContent({ style, translatedName, value } /*: Props */) {\n  return (\n    <tr className=\"overview-analysis-graph-tooltip-line\">\n      <td className=\"thin\">\n        <ChartLegendIcon\n          className={'little-spacer-right line-chart-legend line-chart-legend-' + style}\n        />\n      </td>\n      <td className=\"overview-analysis-graph-tooltip-value text-right little-spacer-right thin\">\n        {value}\n      </td>\n      <td className=\"text-ellipsis overview-analysis-graph-tooltip-description\">\n        {translatedName}\n      </td>\n    </tr>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/components/preview-graph/PreviewGraphTooltipsContent.js","/*\n* SonarQube\n* Copyright (C) 2009-2016 SonarSource SA\n* mailto:contact AT sonarsource DOT com\n*\n* This program is free software; you can redistribute it and/or\n* modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ReportStatus {\n  canDownload?: boolean;\n  canSubscribe: boolean;\n  componentFrequency?: string;\n  globalFrequency: string;\n  subscribed?: boolean;\n}\n\nexport function getReportStatus(component: string): Promise<ReportStatus> {\n  return getJSON('/api/governance_reports/status', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function getReportUrl(component: string): string {\n  return (\n    (window as any).baseUrl +\n    '/api/governance_reports/download?componentKey=' +\n    encodeURIComponent(component)\n  );\n}\n\nexport function subscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/subscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\nexport function unsubscribe(component: string): Promise<void | Response> {\n  return post('/api/governance_reports/unsubscribe', { componentKey: component }).catch(\n    throwGlobalError\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/report.ts","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { getDisplayedHistoryMetrics, DEFAULT_GRAPH } from '../../projectActivity/utils';\nimport PreviewGraph from '../../../components/preview-graph/PreviewGraph';\nimport { getMetrics } from '../../../api/metrics';\nimport { getAllTimeMachineData } from '../../../api/time-machine';\nimport { Metric } from '../../../app/types';\nimport { parseDate } from '../../../helpers/dates';\nimport { translate } from '../../../helpers/l10n';\nimport { getCustomGraph, getGraph } from '../../../helpers/storage';\n\nconst AnyPreviewGraph = PreviewGraph as any;\n\ninterface History {\n  [metric: string]: Array<{ date: Date; value: string }>;\n}\n\ninterface Props {\n  component: string;\n}\n\ninterface State {\n  history?: History;\n  loading: boolean;\n  metrics?: Metric[];\n}\n\nexport default class Activity extends React.PureComponent<Props> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchHistory();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.component !== this.props.component) {\n      this.fetchHistory();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchHistory = () => {\n    const { component } = this.props;\n\n    let graphMetrics = getDisplayedHistoryMetrics(getGraph(), getCustomGraph());\n    if (!graphMetrics || graphMetrics.length <= 0) {\n      graphMetrics = getDisplayedHistoryMetrics(DEFAULT_GRAPH, []);\n    }\n\n    this.setState({ loading: true });\n    return Promise.all([getAllTimeMachineData(component, graphMetrics), getMetrics()]).then(\n      ([timeMachine, metrics]) => {\n        if (this.mounted) {\n          const history: History = {};\n          timeMachine.measures.forEach(measure => {\n            const measureHistory = measure.history.map(analysis => ({\n              date: parseDate(analysis.date),\n              value: analysis.value\n            }));\n            history[measure.metric] = measureHistory;\n          });\n          this.setState({ history, loading: false, metrics });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderWhenEmpty = () => <div className=\"note\">{translate('component_measures.no_history')}</div>;\n\n  render() {\n    return (\n      <div className=\"big-spacer-bottom\">\n        <h4>{translate('project_activity.page')}</h4>\n\n        {this.state.loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          this.state.metrics != undefined &&\n          this.state.history != undefined && (\n            <AnyPreviewGraph\n              history={this.state.history}\n              metrics={this.state.metrics}\n              project={this.props.component}\n              renderWhenEmpty={this.renderWhenEmpty}\n            />\n          )\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Activity.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MainRating from './MainRating';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function MaintainabilityBox({ component, measures }: Props) {\n  const rating = measures['sqale_rating'];\n  const lastMaintainabilityChange = measures['last_change_on_maintainability_rating'];\n  const rawEffort = measures['maintainability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-maintainability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Maintainability')}\n        <MeasuresButtonLink component={component} metric=\"Maintainability\" />\n        <HistoryButtonLink component={component} metric=\"sqale_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric={'sqale_rating'} value={rating} />}\n\n      <RatingFreshness lastChange={lastMaintainabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey={'sqale_rating'} />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/MaintainabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport RatingFreshness from './RatingFreshness';\nimport Rating from '../../../components/ui/Rating';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReleasabilityBox({ component, measures }: Props) {\n  const rating = measures['releasability_rating'];\n  const lastReleasabilityChange = measures['last_change_on_releasability_rating'];\n  const effort = measures['releasability_effort'];\n\n  return (\n    <div className=\"portfolio-box portfolio-releasability\">\n      <h2 className=\"portfolio-box-title\">{translate('metric_domain.Releasability')}</h2>\n\n      {rating && (\n        <Link\n          to={getComponentDrilldownUrl(component, 'alert_status')}\n          className=\"portfolio-box-rating\">\n          <Rating value={rating} />\n        </Link>\n      )}\n\n      <RatingFreshness lastChange={lastReleasabilityChange} />\n\n      {effort &&\n      Number(effort) > 0 && (\n        <div className=\"portfolio-effort\">\n          <Link to={getComponentDrilldownUrl(component, 'alert_status')}>\n            <span>\n              <Measure\n                measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: effort }}\n              />{' '}\n              {Number(effort) === 1 ? 'project' : 'projects'}\n            </span>\n          </Link>{' '}\n          <span className=\"level level-ERROR level-small\">{translate('metric.level.ERROR')}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReleasabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport MainRating from './MainRating';\nimport RatingFreshness from './RatingFreshness';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function ReliabilityBox({ component, measures }: Props) {\n  const rating = measures['reliability_rating'];\n  const lastReliabilityChange = measures['last_change_on_reliability_rating'];\n  const rawEffort = measures['reliability_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-reliability\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Reliability')}\n        <MeasuresButtonLink component={component} metric=\"Reliability\" />\n        <HistoryButtonLink component={component} metric=\"reliability_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"reliability_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastReliabilityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"reliability_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/ReliabilityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SubscriptionContainer from './SubscriptionContainer';\nimport { getReportStatus, ReportStatus, getReportUrl } from '../../../api/report';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: { key: string; name: string };\n}\n\ninterface State {\n  loading: boolean;\n  status?: ReportStatus;\n}\n\nexport default class Report extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.loadStatus();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  loadStatus() {\n    getReportStatus(this.props.component.key).then(\n      status => {\n        if (this.mounted) {\n          this.setState({ status, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  renderHeader = () => <h4>{translate('report.page')}</h4>;\n\n  render() {\n    const { component } = this.props;\n    const { status, loading } = this.state;\n\n    if (loading) {\n      return (\n        <div>\n          {this.renderHeader()}\n          <i className=\"spinner\" />\n        </div>\n      );\n    }\n\n    if (!status) {\n      return null;\n    }\n\n    return (\n      <div>\n        {this.renderHeader()}\n\n        {!status.canDownload && (\n          <div className=\"note js-report-cant-download\">{translate('report.cant_download')}</div>\n        )}\n\n        {status.canDownload && (\n          <div className=\"js-report-can-download\">\n            {translate('report.can_download')}\n            <div className=\"spacer-top\">\n              <a\n                className=\"button js-report-download\"\n                href={getReportUrl(component.key)}\n                target=\"_blank\"\n                download={component.name + ' - Executive Report.pdf'}>\n                {translate('report.print')}\n              </a>\n            </div>\n          </div>\n        )}\n\n        {status.canSubscribe && <SubscriptionContainer component={component.key} status={status} />}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Report.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Effort from './Effort';\nimport MeasuresButtonLink from './MeasuresButtonLink';\nimport HistoryButtonLink from './HistoryButtonLink';\nimport RatingFreshness from './RatingFreshness';\nimport MainRating from './MainRating';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function SecurityBox({ component, measures }: Props) {\n  const rating = measures['security_rating'];\n  const lastSecurityChange = measures['last_change_on_security_rating'];\n  const rawEffort = measures['security_rating_effort'];\n  const effort = rawEffort ? JSON.parse(rawEffort) : undefined;\n\n  return (\n    <div className=\"portfolio-box portfolio-security\">\n      <h2 className=\"portfolio-box-title\">\n        {translate('metric_domain.Security')}\n        <MeasuresButtonLink component={component} metric=\"Security\" />\n        <HistoryButtonLink component={component} metric=\"security_rating\" />\n      </h2>\n\n      {rating && <MainRating component={component} metric=\"security_rating\" value={rating} />}\n\n      <RatingFreshness lastChange={lastSecurityChange} />\n\n      {effort && <Effort component={component} effort={effort} metricKey=\"security_rating\" />}\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SecurityBox.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { ReportStatus, subscribe, unsubscribe } from '../../../api/report';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  component: string;\n  currentUser: { email?: string };\n  status: ReportStatus;\n}\n\ninterface State {\n  loading: boolean;\n  subscribed?: boolean;\n}\n\nexport default class Subscription extends React.PureComponent<Props, State> {\n  mounted: boolean;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { subscribed: props.status.subscribed, loading: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.status.subscribed !== this.props.status.subscribed) {\n      this.setState({ subscribed: nextProps.status.subscribed });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleSubscription = (subscribed: boolean) => {\n    if (this.mounted) {\n      this.setState({ loading: false, subscribed });\n    }\n  };\n\n  handleSubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    subscribe(this.props.component)\n      .then(() => this.handleSubscription(true))\n      .catch(this.stopLoading);\n  };\n\n  handleUnsubscribe = (e: React.SyntheticEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    e.currentTarget.blur();\n    this.setState({ loading: true });\n    unsubscribe(this.props.component)\n      .then(() => this.handleSubscription(false))\n      .catch(this.stopLoading);\n  };\n\n  getEffectiveFrequencyText = () => {\n    const effectiveFrequency =\n      this.props.status.componentFrequency || this.props.status.globalFrequency;\n    return translate('report.frequency', effectiveFrequency, 'effective');\n  };\n\n  renderLoading = () => this.state.loading && <i className=\"spacer-left spinner\" />;\n\n  renderWhenSubscribed = () => (\n    <div className=\"js-subscribed\">\n      <div className=\"spacer-bottom\">\n        <i className=\"icon-check pull-left spacer-right\" />\n        <div className=\"overflow-hidden\">\n          {translateWithParameters('report.subscribed', this.getEffectiveFrequencyText())}\n        </div>\n      </div>\n      <button onClick={this.handleUnsubscribe}>{translate('report.unsubscribe')}</button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  renderWhenNotSubscribed = () => (\n    <div className=\"js-not-subscribed\">\n      <p className=\"spacer-bottom\">\n        {translateWithParameters('report.unsubscribed', this.getEffectiveFrequencyText())}\n      </p>\n      <button className=\"js-report-subscribe\" onClick={this.handleSubscribe}>\n        {translate('report.subscribe')}\n      </button>\n      {this.renderLoading()}\n    </div>\n  );\n\n  render() {\n    const hasEmail = !!this.props.currentUser.email;\n    const { subscribed } = this.state;\n\n    let inner;\n    if (hasEmail) {\n      inner = subscribed ? this.renderWhenSubscribed() : this.renderWhenNotSubscribed();\n    } else {\n      inner = <p className=\"note js-no-email\">{translate('report.no_email_to_subscribe')}</p>;\n    }\n\n    return <div className=\"big-spacer-top js-report-subscription\">{inner}</div>;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Subscription.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { connect } from 'react-redux';\nimport Subscription from './Subscription';\nimport { getCurrentUser } from '../../../store/rootReducer';\n\nconst mapStateToProps = (state: any) => ({\n  currentUser: getCurrentUser(state)\n});\n\nexport default connect<any, any, any>(mapStateToProps)(Subscription);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/SubscriptionContainer.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport LanguageDistributionContainer from '../../../components/charts/LanguageDistributionContainer';\nimport Measure from '../../../components/measure/Measure';\nimport { translate } from '../../../helpers/l10n';\nimport { getComponentDrilldownUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: { description?: string; key: string };\n  measures: { [key: string]: string | undefined };\n}\n\nexport default function Summary({ component, measures }: Props) {\n  const projects = measures['projects'];\n  const ncloc = measures['ncloc'];\n  const nclocDistribution = measures['ncloc_language_distribution'];\n\n  return (\n    <section id=\"portfolio-summary\" className=\"big-spacer-bottom\">\n      {component.description && <div className=\"big-spacer-bottom\">{component.description}</div>}\n\n      <ul className=\"portfolio-grid\">\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'projects')}>\n              <Measure\n                measure={{ metric: { key: 'projects', type: 'SHORT_INT' }, value: projects }}\n              />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('projects')}</div>\n        </li>\n        <li>\n          <div className=\"portfolio-measure-secondary-value\">\n            <Link to={getComponentDrilldownUrl(component.key, 'ncloc')}>\n              <Measure measure={{ metric: { key: 'ncloc', type: 'SHORT_INT' }, value: ncloc }} />\n            </Link>\n          </div>\n          <div className=\"spacer-top text-muted\">{translate('metric.ncloc.name')}</div>\n        </li>\n      </ul>\n\n      {nclocDistribution && (\n        <div className=\"big-spacer-top\">\n          <LanguageDistributionContainer distribution={nclocDistribution} width={260} />\n        </div>\n      )}\n    </section>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/Summary.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { max } from 'lodash';\nimport { SubComponent } from '../types';\nimport Measure from '../../../components/measure/Measure';\nimport QualifierIcon from '../../../components/shared/QualifierIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  component: string;\n  subComponents: SubComponent[];\n  total: number;\n}\n\nexport default function WorstProjects({ component, subComponents, total }: Props) {\n  const count = subComponents.length;\n\n  if (!count) {\n    return null;\n  }\n\n  const maxLoc = max(\n    subComponents.map(component => Number(component.measures['ncloc'] || 0))\n  ) as number;\n\n  const projectsPageUrl = { pathname: '/code', query: { id: component } };\n\n  return (\n    <div className=\"panel panel-white portfolio-sub-components\" id=\"portfolio-sub-components\">\n      <table className=\"data zebra\">\n        <thead>\n          <tr>\n            <th>&nbsp;</th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Releasability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Reliability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Security')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric_domain.Maintainability')}\n            </th>\n            <th className=\"text-center portfolio-sub-components-cell\">\n              {translate('metric.ncloc.name')}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {subComponents.map(component => (\n            <tr key={component.key}>\n              <td>\n                <Link\n                  to={getProjectUrl(component.refKey || component.key)}\n                  className=\"link-with-icon\">\n                  <QualifierIcon qualifier={component.qualifier} /> {component.name}\n                </Link>\n              </td>\n              {component.qualifier === 'TRK' ? (\n                renderCell(component.measures, 'alert_status', 'LEVEL')\n              ) : (\n                renderCell(component.measures, 'releasability_rating', 'RATING')\n              )}\n              {renderCell(component.measures, 'reliability_rating', 'RATING')}\n              {renderCell(component.measures, 'security_rating', 'RATING')}\n              {renderCell(component.measures, 'sqale_rating', 'RATING')}\n              {renderNcloc(component.measures, maxLoc)}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {total > count && (\n        <footer className=\"spacer-top note text-center\">\n          {translateWithParameters(\n            'x_of_y_shown',\n            formatMeasure(count, 'INT'),\n            formatMeasure(total, 'INT')\n          )}\n          <Link to={projectsPageUrl} className=\"spacer-left\">\n            {translate('show_more')}\n          </Link>\n        </footer>\n      )}\n    </div>\n  );\n}\n\nfunction renderCell(measures: { [key: string]: string | undefined }, metric: string, type: string) {\n  return (\n    <td className=\"text-center\">\n      <Measure measure={{ metric: { key: metric, type }, value: measures[metric] }} />\n    </td>\n  );\n}\n\nfunction renderNcloc(measures: { [key: string]: string | undefined }, maxLoc: number) {\n  const ncloc = Number(measures['ncloc'] || 0);\n  const barWidth = maxLoc > 0 ? Math.max(1, Math.round(ncloc / maxLoc * 50)) : 0;\n  return (\n    <td className=\"text-right\">\n      <span className=\"note\">\n        <Measure\n          measure={{\n            metric: { key: 'ncloc', type: 'SHORT_INT' },\n            value: measures['ncloc']\n          }}\n        />\n      </span>\n      {maxLoc > 0 && (\n        <svg width=\"50\" height=\"16\" className=\"spacer-left\">\n          <rect className=\"bar-chart-bar\" x=\"0\" y=\"3\" width={barWidth} height=\"10\" />\n        </svg>\n      )}\n    </td>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/components/WorstProjects.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2016 SonarSource SA\n * mailto:contact AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function getNextRating(rating: number): number | undefined {\n  return rating > 1 ? rating - 1 : undefined;\n}\n\nfunction getWorstSeverity(data: string): { severity: string; count: number } | undefined {\n  const SEVERITY_ORDER = ['BLOCKER', 'CRITICAL', 'MAJOR', 'MINOR', 'INFO'];\n\n  const severities: { [key: string]: number } = {};\n  data.split(';').forEach(equality => {\n    const [key, count] = equality.split('=');\n    severities[key] = Number(count);\n  });\n\n  for (let i = 0; i < SEVERITY_ORDER.length; i++) {\n    const count = severities[SEVERITY_ORDER[i]];\n    if (count > 0) {\n      return { severity: SEVERITY_ORDER[i], count };\n    }\n  }\n\n  return undefined;\n}\n\nexport function getEffortToNextRating(\n  measures: Array<{ metric: { key: string }; value: string }>,\n  metricKey: string\n) {\n  const measure = measures.find(measure => measure.metric.key === metricKey);\n  if (!measure) {\n    return undefined;\n  }\n  return getWorstSeverity(measure.value);\n}\n\nexport const PORTFOLIO_METRICS = [\n  'projects',\n  'ncloc',\n  'ncloc_language_distribution',\n\n  'releasability_rating',\n  'releasability_effort',\n\n  'sqale_rating',\n  'maintainability_rating_effort',\n\n  'reliability_rating',\n  'reliability_rating_effort',\n\n  'security_rating',\n  'security_rating_effort',\n\n  'last_change_on_releasability_rating',\n  'last_change_on_maintainability_rating',\n  'last_change_on_security_rating',\n  'last_change_on_reliability_rating'\n];\n\nexport const SUB_COMPONENTS_METRICS = [\n  'ncloc',\n  'releasability_rating',\n  'security_rating',\n  'reliability_rating',\n  'sqale_rating',\n  'alert_status'\n];\n\nexport function convertMeasures(measures: Array<{ metric: string; value?: string }>) {\n  const result: { [key: string]: string | undefined } = {};\n  measures.forEach(measure => {\n    result[measure.metric] = measure.value;\n  });\n  return result;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/portfolio/utils.ts","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".portfolio-measure-secondary-value{line-height:24px;font-size:18px;font-weight:300}.portfolio-grid{position:relative;z-index:10;display:flex;justify-content:space-around;align-items:center}.portfolio-grid>li{vertical-align:top;width:50%;text-align:center}.portfolio-grid>li.text-middle{vertical-align:middle}.portfolio-freshness{line-height:24px;margin-top:12px;color:#777;font-size:12px;white-space:nowrap}.portfolio-effort{margin-top:12px;padding-top:12px;border-top:1px solid #e6e6e6}.portfolio-boxes{display:flex;justify-content:space-between;align-items:stretch;margin-bottom:20px;padding:15px 0;border:1px solid #e6e6e6;background-color:#fff}.portfolio-box{position:relative;width:25%;padding:0 5px;border-radius:3px;box-sizing:border-box;text-align:center}.portfolio-box-title{margin-bottom:25px;font-size:16px}.portfolio-box-title>.button-small>svg{margin-top:0}.portfolio-box-rating,.portfolio-box-rating .rating{display:block;width:120px;height:120px;line-height:120px}.portfolio-box-rating{margin:0 auto;border:none}.portfolio-box-rating .rating{border-radius:120px;font-size:60px;text-align:center}.portfolio-sub-components table.data>thead>tr>th{font-size:13px;text-transform:none}.portfolio-sub-components-cell{width:90px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":{\"discardComments\":{\"removeAll\":true}}}!./~/postcss-loader/lib?{\"plugins\":[null]}!./src/main/js/apps/portfolio/styles.css\n// module id = 2673\n// module chunks = 244","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--4-1!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--4-1!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--4-1!../../../../../node_modules/postcss-loader/lib/index.js??ref--4-2!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main/js/apps/portfolio/styles.css\n// module id = 2723\n// module chunks = 244"],"sourceRoot":""}