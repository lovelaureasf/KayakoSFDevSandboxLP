{"version":3,"sources":["webpack:///js/263.e086311d.chunk.js","webpack:///./src/main/js/apps/projectQualityGate/App.tsx","webpack:///./src/main/js/api/quality-gates.ts?7ca3**","webpack:///./src/main/js/app/utils/addGlobalSuccessMessage.ts?9d1d","webpack:///./src/main/js/apps/projectQualityGate/Form.tsx","webpack:///./src/main/js/apps/projectQualityGate/Header.tsx"],"names":["webpackJsonp","2119","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1_react_helmet__","n","__WEBPACK_IMPORTED_MODULE_1_react_helmet___default","__WEBPACK_IMPORTED_MODULE_2__Header__","__WEBPACK_IMPORTED_MODULE_3__Form__","__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__","__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__","__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__","__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","App","_super","_this","apply","arguments","state","loading","handleChangeGate","oldId","newId","allGates","i","props","component","key","then","mounted","newGate","find","gate","id","setState","undefined","Promise","resolve","componentDidMount","checkPermissions","fetchQualityGates","componentWillUnmount","configuration","showQualityGates","all","_a","render","className","a","title","onChange","2162","fetchQualityGatesAppDetails","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","catch","__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__","r","qualitygates","map","qualityGate","__assign","isDefault","default","fetchQualityGate","createQualityGate","name","deleteQualityGate","renameQualityGate","copyQualityGate","setQualityGateAsDefault","unsetQualityGateAsDefault","createCondition","gateId","condition","updateCondition","deleteCondition","getGateForProject","project","associateGateWithProject","projectKey","dissociateGateWithProject","getApplicationQualityGate","application","assign","t","s","length","call","2207","addGlobalSuccessMessage","message","__WEBPACK_IMPORTED_MODULE_0__getStore__","dispatch","__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__","2342","__WEBPACK_IMPORTED_MODULE_1_react_select__","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__","Form","stopLoading","handleChange","option","isSet","isUnset","isChanged","Number","renderGateName","label","renderSelect","options","String","unshift","clearable","disabled","optionRenderer","placeholder","style","width","valueRenderer","2343","Header","__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__"],"mappings":"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","file":"js/263.e086311d.chunk.js","sourcesContent":["webpackJsonp([263],{\n\n/***/ 2119:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_helmet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_helmet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Header__ = __webpack_require__(2343);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Form__ = __webpack_require__(2342);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__api_quality_gates__ = __webpack_require__(2162);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__ = __webpack_require__(2207);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__ = __webpack_require__(259);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\n\n\n\n\nvar App = function (_super) {\n    __extends(App, _super);\n    function App() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: true };\n        _this.handleChangeGate = function (oldId, newId) {\n            var allGates = _this.state.allGates;\n            if (!oldId && !newId || !allGates) {\n                return Promise.resolve();\n            }\n            var request = newId ? __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"a\" /* associateGateWithProject */])(newId, _this.props.component.key) : __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"b\" /* dissociateGateWithProject */])(oldId, _this.props.component.key);\n            return request.then(function () {\n                if (_this.mounted) {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__app_utils_addGlobalSuccessMessage__[\"a\" /* default */])(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translate\"])('project_quality_gate.successfully_updated'));\n                    if (newId) {\n                        var newGate = allGates.find(function (gate) {\n                            return gate.id === newId;\n                        });\n                        if (newGate) {\n                            _this.setState({ gate: newGate });\n                        }\n                    } else {\n                        _this.setState({ gate: undefined });\n                    }\n                }\n            });\n        };\n        return _this;\n    }\n    App.prototype.componentDidMount = function () {\n        this.mounted = true;\n        if (this.checkPermissions()) {\n            this.fetchQualityGates();\n        } else {\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__app_utils_handleRequiredAuthorization__[\"default\"])();\n        }\n    };\n    App.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    App.prototype.checkPermissions = function () {\n        var configuration = this.props.component.configuration;\n        var hasPermission = configuration && configuration.showQualityGates;\n        return !!hasPermission;\n    };\n    App.prototype.fetchQualityGates = function () {\n        var _this = this;\n        this.setState({ loading: true });\n        Promise.all([__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"c\" /* fetchQualityGates */])(), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__api_quality_gates__[\"d\" /* getGateForProject */])(this.props.component.key)]).then(function (_a) {\n            var allGates = _a[0],\n                gate = _a[1];\n            if (_this.mounted) {\n                _this.setState({ allGates: allGates, gate: gate, loading: false });\n            }\n        }, function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        });\n    };\n    App.prototype.render = function () {\n        if (!this.checkPermissions()) {\n            return null;\n        }\n        var _a = this.state,\n            allGates = _a.allGates,\n            gate = _a.gate,\n            loading = _a.loading;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { id: \"project-quality-gate\", className: \"page page-limited\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_helmet___default.a, { title: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__helpers_l10n__[\"translate\"])('project_quality_gate.page') }), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_2__Header__[\"a\" /* default */], null), loading ? __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner\" }) : allGates && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_3__Form__[\"a\" /* default */], { allGates: allGates, gate: gate, onChange: this.handleChangeGate }));\n    };\n    return App;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 2162:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"o\"] = fetchQualityGatesAppDetails;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = fetchQualityGates;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = fetchQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"p\"] = createQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"l\"] = deleteQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"n\"] = renameQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"m\"] = copyQualityGate;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = setQualityGateAsDefault;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = unsetQualityGateAsDefault;\n/* harmony export (immutable) */ __webpack_exports__[\"i\"] = createCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"j\"] = updateCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"k\"] = deleteCondition;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getGateForProject;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = associateGateWithProject;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = dissociateGateWithProject;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getApplicationQualityGate;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers_request__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__ = __webpack_require__(42);\n\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) {\n            if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n    }\n    return t;\n};\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\nfunction fetchQualityGatesAppDetails() {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/app').catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction fetchQualityGates() {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/list').then(function (r) {\n        return r.qualitygates.map(function (qualityGate) {\n            return __assign({}, qualityGate, { id: qualityGate.id, isDefault: qualityGate.id === r.default });\n        });\n    }, __WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction fetchQualityGate(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/show', { id: id }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction createQualityGate(name) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/create', { name: name });\n}\nfunction deleteQualityGate(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/destroy', { id: id });\n}\nfunction renameQualityGate(id, name) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/rename', { id: id, name: name });\n}\nfunction copyQualityGate(id, name) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/copy', { id: id, name: name });\n}\nfunction setQualityGateAsDefault(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/set_as_default', { id: id }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction unsetQualityGateAsDefault(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/unset_default', { id: id }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction createCondition(gateId, condition) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/create_condition', __assign({}, condition, { gateId: gateId }));\n}\nfunction updateCondition(condition) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"postJSON\"])('/api/qualitygates/update_condition', condition);\n}\nfunction deleteCondition(id) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/delete_condition', { id: id });\n}\nfunction getGateForProject(project) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/get_by_project', { project: project }).then(function (r) {\n        return r.qualityGate && {\n            id: r.qualityGate.id,\n            isDefault: r.qualityGate.default,\n            name: r.qualityGate.name\n        };\n    });\n}\nfunction associateGateWithProject(gateId, projectKey) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/select', { gateId: gateId, projectKey: projectKey }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction dissociateGateWithProject(gateId, projectKey) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"post\"])('/api/qualitygates/deselect', { gateId: gateId, projectKey: projectKey }).catch(__WEBPACK_IMPORTED_MODULE_1__app_utils_throwGlobalError__[\"a\" /* default */]);\n}\nfunction getApplicationQualityGate(application) {\n    return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__helpers_request__[\"getJSON\"])('/api/qualitygates/application_status', { application: application });\n}\n\n/***/ }),\n\n/***/ 2207:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = addGlobalSuccessMessage;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getStore__ = __webpack_require__(80);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__ = __webpack_require__(45);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction addGlobalSuccessMessage(message) {\n  var store = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__getStore__[\"default\"])();\n  store.dispatch(__WEBPACK_IMPORTED_MODULE_1__store_globalMessages_duck__[\"e\" /* addGlobalSuccessMessage */](message));\n}\n\n/***/ }),\n\n/***/ 2342:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_select__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_select__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_l10n__ = __webpack_require__(2);\n\n\nvar __extends = this && this.__extends || function () {\n    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {\n        d.__proto__ = b;\n    } || function (d, b) {\n        for (var p in b) {\n            if (b.hasOwnProperty(p)) d[p] = b[p];\n        }\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() {\n            this.constructor = d;\n        }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n}();\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\n\nvar Form = function (_super) {\n    __extends(Form, _super);\n    function Form() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { loading: false };\n        _this.stopLoading = function () {\n            if (_this.mounted) {\n                _this.setState({ loading: false });\n            }\n        };\n        _this.handleChange = function (option) {\n            var gate = _this.props.gate;\n            var isSet = gate == null && option.value != null;\n            var isUnset = gate != null && option.value == null;\n            var isChanged = gate != null && gate.id !== Number(option.value);\n            var hasChanged = isSet || isUnset || isChanged;\n            if (hasChanged) {\n                _this.setState({ loading: true });\n                _this.props.onChange(gate && gate.id, Number(option.value)).then(_this.stopLoading, _this.stopLoading);\n            }\n        };\n        _this.renderGateName = function (option) {\n            if (option.isDefault) {\n                return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"strong\", null, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('default')), ': ', option.label);\n            }\n            return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"span\", null, option.label);\n        };\n        return _this;\n    }\n    Form.prototype.componentDidMount = function () {\n        this.mounted = true;\n    };\n    Form.prototype.componentWillUnmount = function () {\n        this.mounted = false;\n    };\n    Form.prototype.renderSelect = function () {\n        var _a = this.props,\n            gate = _a.gate,\n            allGates = _a.allGates;\n        var options = allGates.map(function (gate) {\n            return {\n                value: String(gate.id),\n                label: gate.name,\n                isDefault: gate.isDefault\n            };\n        });\n        var hasDefault = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"some\"])(allGates, function (gate) {\n            return gate.isDefault;\n        });\n        if (!hasDefault) {\n            options.unshift({ value: '', label: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('none') });\n        }\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](__WEBPACK_IMPORTED_MODULE_1_react_select__, { clearable: false, disabled: this.state.loading, onChange: this.handleChange, optionRenderer: this.renderGateName, options: options, placeholder: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__helpers_l10n__[\"translate\"])('none'), style: { width: 300 }, value: gate && String(gate.id), valueRenderer: this.renderGateName });\n    };\n    Form.prototype.render = function () {\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", null, this.renderSelect(), this.state.loading && __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"i\", { className: \"spinner spacer-left\" }));\n    };\n    return Form;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"PureComponent\"]);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Form);\n\n/***/ }),\n\n/***/ 2343:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Header;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__helpers_l10n__ = __webpack_require__(2);\n\n/*\r\n * SonarQube\r\n * Copyright (C) 2009-2017 SonarSource SA\r\n * mailto:info AT sonarsource DOT com\r\n *\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU Lesser General Public\r\n * License as published by the Free Software Foundation; either\r\n * version 3 of the License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\r\n * Lesser General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Lesser General Public License\r\n * along with this program; if not, write to the Free Software Foundation,\r\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n */\n\n\n\nfunction Header() {\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"header\", { className: \"page-header\" }, __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"h1\", { className: \"page-title\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_gate.page')), __WEBPACK_IMPORTED_MODULE_0_react__[\"createElement\"](\"div\", { className: \"page-description\" }, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__helpers_l10n__[\"translate\"])('project_quality_gate.page.description')));\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/263.e086311d.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport Header from './Header';\nimport Form from './Form';\nimport {\n  fetchQualityGates,\n  getGateForProject,\n  associateGateWithProject,\n  dissociateGateWithProject,\n  QualityGate\n} from '../../api/quality-gates';\nimport addGlobalSuccessMessage from '../../app/utils/addGlobalSuccessMessage';\nimport handleRequiredAuthorization from '../../app/utils/handleRequiredAuthorization';\nimport { Component } from '../../app/types';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  component: Component;\n}\n\ninterface State {\n  allGates?: QualityGate[];\n  gate?: QualityGate;\n  loading: boolean;\n}\n\nexport default class App extends React.PureComponent<Props> {\n  mounted: boolean;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    if (this.checkPermissions()) {\n      this.fetchQualityGates();\n    } else {\n      handleRequiredAuthorization();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  checkPermissions() {\n    const { configuration } = this.props.component;\n    const hasPermission = configuration && configuration.showQualityGates;\n    return !!hasPermission;\n  }\n\n  fetchQualityGates() {\n    this.setState({ loading: true });\n    Promise.all([fetchQualityGates(), getGateForProject(this.props.component.key)]).then(\n      ([allGates, gate]) => {\n        if (this.mounted) {\n          this.setState({ allGates, gate, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  }\n\n  handleChangeGate = (oldId: number | undefined, newId: number | undefined) => {\n    const { allGates } = this.state;\n\n    if ((!oldId && !newId) || !allGates) {\n      return Promise.resolve();\n    }\n\n    const request = newId\n      ? associateGateWithProject(newId, this.props.component.key)\n      : dissociateGateWithProject(oldId!, this.props.component.key);\n\n    return request.then(() => {\n      if (this.mounted) {\n        addGlobalSuccessMessage(translate('project_quality_gate.successfully_updated'));\n        if (newId) {\n          const newGate = allGates.find(gate => gate.id === newId);\n          if (newGate) {\n            this.setState({ gate: newGate });\n          }\n        } else {\n          this.setState({ gate: undefined });\n        }\n      }\n    });\n  };\n\n  render() {\n    if (!this.checkPermissions()) {\n      return null;\n    }\n\n    const { allGates, gate, loading } = this.state;\n\n    return (\n      <div id=\"project-quality-gate\" className=\"page page-limited\">\n        <Helmet title={translate('project_quality_gate.page')} />\n        <Header />\n        {loading ? (\n          <i className=\"spinner\" />\n        ) : (\n          allGates && <Form allGates={allGates} gate={gate} onChange={this.handleChangeGate} />\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/App.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport function fetchQualityGatesAppDetails(): Promise<any> {\n  return getJSON('/api/qualitygates/app').catch(throwGlobalError);\n}\n\nexport interface QualityGate {\n  isDefault?: boolean;\n  id: number;\n  name: string;\n}\n\nexport function fetchQualityGates(): Promise<QualityGate[]> {\n  return getJSON('/api/qualitygates/list').then(\n    r =>\n      r.qualitygates.map((qualityGate: any) => {\n        return {\n          ...qualityGate,\n          id: qualityGate.id,\n          isDefault: qualityGate.id === r.default\n        };\n      }),\n    throwGlobalError\n  );\n}\n\nexport function fetchQualityGate(id: string): Promise<any> {\n  return getJSON('/api/qualitygates/show', { id }).catch(throwGlobalError);\n}\n\nexport function createQualityGate(name: string): Promise<any> {\n  return postJSON('/api/qualitygates/create', { name });\n}\n\nexport function deleteQualityGate(id: string): Promise<void> {\n  return post('/api/qualitygates/destroy', { id });\n}\n\nexport function renameQualityGate(id: string, name: string): Promise<void> {\n  return post('/api/qualitygates/rename', { id, name });\n}\n\nexport function copyQualityGate(id: string, name: string): Promise<any> {\n  return postJSON('/api/qualitygates/copy', { id, name });\n}\n\nexport function setQualityGateAsDefault(id: string): Promise<void | Response> {\n  return post('/api/qualitygates/set_as_default', { id }).catch(throwGlobalError);\n}\n\nexport function unsetQualityGateAsDefault(id: string): Promise<void | Response> {\n  return post('/api/qualitygates/unset_default', { id }).catch(throwGlobalError);\n}\n\nexport function createCondition(gateId: string, condition: RequestData): Promise<any> {\n  return postJSON('/api/qualitygates/create_condition', { ...condition, gateId });\n}\n\nexport function updateCondition(condition: RequestData): Promise<any> {\n  return postJSON('/api/qualitygates/update_condition', condition);\n}\n\nexport function deleteCondition(id: string): Promise<void> {\n  return post('/api/qualitygates/delete_condition', { id });\n}\n\nexport function getGateForProject(project: string): Promise<QualityGate | undefined> {\n  return getJSON('/api/qualitygates/get_by_project', { project }).then(\n    r =>\n      r.qualityGate && {\n        id: r.qualityGate.id,\n        isDefault: r.qualityGate.default,\n        name: r.qualityGate.name\n      }\n  );\n}\n\nexport function associateGateWithProject(\n  gateId: number,\n  projectKey: string\n): Promise<void | Response> {\n  return post('/api/qualitygates/select', { gateId, projectKey }).catch(throwGlobalError);\n}\n\nexport function dissociateGateWithProject(\n  gateId: number,\n  projectKey: string\n): Promise<void | Response> {\n  return post('/api/qualitygates/deselect', { gateId, projectKey }).catch(throwGlobalError);\n}\n\nexport function getApplicationQualityGate(application: string): Promise<any> {\n  return getJSON('/api/qualitygates/application_status', { application });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/api/quality-gates.ts","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport getStore from './getStore';\nimport * as globalMessages from '../../store/globalMessages/duck';\n\nexport default function addGlobalSuccessMessage(message: string): void {\n  const store = getStore();\n  store.dispatch(globalMessages.addGlobalSuccessMessage(message));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/app/utils/addGlobalSuccessMessage.ts","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as Select from 'react-select';\nimport { some } from 'lodash';\nimport { QualityGate } from '../../api/quality-gates';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  allGates: QualityGate[];\n  gate?: QualityGate;\n  onChange: (oldGate: number | undefined, newGate: number) => Promise<void>;\n}\n\ninterface State {\n  loading: boolean;\n}\n\ninterface Option {\n  isDefault?: boolean;\n  label: string;\n  value: string;\n}\n\nexport default class Form extends React.PureComponent<Props, State> {\n  mounted: boolean;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  handleChange = (option: { value: string }) => {\n    const { gate } = this.props;\n\n    const isSet = gate == null && option.value != null;\n    const isUnset = gate != null && option.value == null;\n    const isChanged = gate != null && gate.id !== Number(option.value);\n    const hasChanged = isSet || isUnset || isChanged;\n\n    if (hasChanged) {\n      this.setState({ loading: true });\n      this.props\n        .onChange(gate && gate.id, Number(option.value))\n        .then(this.stopLoading, this.stopLoading);\n    }\n  };\n\n  renderGateName = (option: { isDefault?: boolean; label: string }) => {\n    if (option.isDefault) {\n      return (\n        <span>\n          <strong>{translate('default')}</strong>\n          {': '}\n          {option.label}\n        </span>\n      );\n    }\n\n    return <span>{option.label}</span>;\n  };\n\n  renderSelect() {\n    const { gate, allGates } = this.props;\n\n    const options: Option[] = allGates.map(gate => ({\n      value: String(gate.id),\n      label: gate.name,\n      isDefault: gate.isDefault\n    }));\n\n    const hasDefault = some(allGates, gate => gate.isDefault);\n    if (!hasDefault) {\n      options.unshift({ value: '', label: translate('none') });\n    }\n\n    return (\n      <Select\n        clearable={false}\n        disabled={this.state.loading}\n        onChange={this.handleChange}\n        optionRenderer={this.renderGateName}\n        options={options}\n        placeholder={translate('none')}\n        style={{ width: 300 }}\n        value={gate && String(gate.id)}\n        valueRenderer={this.renderGateName}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderSelect()}\n        {this.state.loading && <i className=\"spinner spacer-left\" />}\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/Form.tsx","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../helpers/l10n';\n\nexport default function Header() {\n  return (\n    <header className=\"page-header\">\n      <h1 className=\"page-title\">{translate('project_quality_gate.page')}</h1>\n      <div className=\"page-description\">{translate('project_quality_gate.page.description')}</div>\n    </header>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/projectQualityGate/Header.tsx"],"sourceRoot":""}